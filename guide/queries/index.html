<!doctype html>
<html data-n-head-ssr lang="en" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Queries - Villus</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="description" name="description" content='<p align="center">'><meta data-n-head="ssr" data-hid="mobile-web-app-capable" name="mobile-web-app-capable" content="yes"><meta data-n-head="ssr" data-hid="apple-mobile-web-app-title" name="apple-mobile-web-app-title" content="villus-docs"><meta data-n-head="ssr" data-hid="author" name="author" content="Abdelrahman Awad"><meta data-n-head="ssr" data-hid="theme-color" name="theme-color" content="black"><meta data-n-head="ssr" data-hid="og:type" name="og:type" property="og:type" content="website"><meta data-n-head="ssr" data-hid="og:title" name="og:title" property="og:title" content="villus-docs"><meta data-n-head="ssr" data-hid="og:site_name" name="og:site_name" property="og:site_name" content="villus-docs"><meta data-n-head="ssr" data-hid="og:description" name="og:description" property="og:description" content='<p align="center">'><base href="/villus/"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link data-n-head="ssr" rel="manifest" href="/villus/_nuxt/manifest.d66aab22.json"><link data-n-head="ssr" rel="shortcut icon" href="/villus/_nuxt/icons/icon_64x64.5f6a36.png"><link data-n-head="ssr" rel="apple-touch-icon" href="/villus/_nuxt/icons/icon_512x512.5f6a36.png" sizes="512x512"><link rel="preload" href="/villus/_nuxt/d2fbd09.js" as="script"><link rel="preload" href="/villus/_nuxt/ab9449b.js" as="script"><link rel="preload" href="/villus/_nuxt/debd94b.js" as="script"><link rel="preload" href="/villus/_nuxt/def7368.js" as="script"><link rel="preload" href="/villus/_nuxt/c225518.js" as="script"><link rel="preload" href="/villus/_nuxt/8f17df1.js" as="script"><style data-vue-ssr-id="38dfa7e4:0 38dfa7e4:1 38dfa7e4:2 7e56e4e3:0 0b2d4420:0 3d4748cb:0 607e957a:0 55b015b6:0 34a4665a:0 10a809d0:0 7c6691d7:0 cdf44b34:0 dfa8d9a4:0">@import url(https://fonts.googleapis.com/css?family=Montserrat:700|Noto+Sans&display=swap);@import url(https://fonts.googleapis.com/css?family=Montserrat:700|Noto+Sans:400,700&display=swap);/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}details{display:block}summary{display:list-item}[hidden],template{display:none}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}button{background-color:transparent;background-image:none}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}fieldset,ol,ul{margin:0;padding:0}ol,ul{list-style:none}html{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,"Noto Sans","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.5}*,:after,:before{box-sizing:border-box;border:0 solid #e2e8f0}hr{border-top-width:1px}img{border-style:solid}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#a0aec0}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:#a0aec0}input::-ms-input-placeholder,textarea::-ms-input-placeholder{color:#a0aec0}input::placeholder,textarea::placeholder{color:#a0aec0}button{cursor:pointer}table{border-collapse:collapse}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}body,html{width:100%;height:100%;font-family:Noto Sans,Segoe UI,Tahoma,Geneva,Verdana,sans-serif;scroll-padding-top:130px}.space-y-1>:not(template)~:not(template){--space-y-reverse:0;margin-top:calc(.25rem*(1 - var(--space-y-reverse)));margin-bottom:calc(.25rem*var(--space-y-reverse))}.space-y-2>:not(template)~:not(template){--space-y-reverse:0;margin-top:calc(.5rem*(1 - var(--space-y-reverse)));margin-bottom:calc(.5rem*var(--space-y-reverse))}.space-y-8>:not(template)~:not(template){--space-y-reverse:0;margin-top:calc(2rem*(1 - var(--space-y-reverse)));margin-bottom:calc(2rem*var(--space-y-reverse))}.bg-black{--bg-opacity:1;background-color:#000;background-color:rgba(0,0,0,var(--bg-opacity))}.bg-white{--bg-opacity:1;background-color:#fff;background-color:rgba(255,255,255,var(--bg-opacity))}.bg-gray-100{--bg-opacity:1;background-color:#f6f6f6;background-color:rgba(246,246,246,var(--bg-opacity))}.bg-dark{background-color:#161618}.bg-accent-100,.bg-accent-900{--bg-opacity:1;background-color:#a05e95;background-color:rgba(160,94,149,var(--bg-opacity))}.is-dark .dark-mode\:bg-black{--bg-opacity:1;background-color:#000;background-color:rgba(0,0,0,var(--bg-opacity))}.is-dark .dark-mode\:bg-dark{background-color:#161618}.border-gray-200{border-color:#bdbdbd}.border-gray-700{--border-opacity:1;border-color:#e8e8e8;border-color:rgba(232,232,232,var(--border-opacity))}.border-gray-900{border-color:#4a4a4a}.border-accent-800{border-color:#a05e95;border-color:var(--accent,#a05e95)}.border-warning{border-color:#764637}.border-error{--border-opacity:1;border-color:#cf6679;border-color:rgba(207,102,121,var(--border-opacity))}.is-dark .dark-mode\:border-carbon{--border-opacity:1;border-color:#333;border-color:rgba(51,51,51,var(--border-opacity))}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-full{border-radius:9999px}.rounded-r-lg{border-top-right-radius:.5rem;border-bottom-right-radius:.5rem}.border{border-width:1px}.border-l-4{border-left-width:4px}.border-b{border-bottom-width:1px}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.table{display:table}.grid{display:grid}.hidden{display:none}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.items-center{align-items:center}.items-baseline{align-items:baseline}.justify-center{justify-content:center}.font-display{font-family:Montserrat,sans-serif}.font-semibold{font-weight:600}.font-bold{font-weight:700}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-full{height:100%}.h-screen{height:100vh}.text-xs{font-size:.75rem}.text-sm{font-size:.875rem}.text-lg{font-size:1.125rem}.text-xl{font-size:calc(1em + .4vw)}.text-4xl{font-size:2.25rem}.list-decimal{list-style-type:decimal}.my-4{margin-top:1rem;margin-bottom:1rem}.my-8{margin-top:2rem;margin-bottom:2rem}.my-10{margin-top:2.5rem;margin-bottom:2.5rem}.ml-1{margin-left:.25rem}.mt-2{margin-top:.5rem}.mr-2{margin-right:.5rem}.mt-3{margin-top:.75rem}.mt-4{margin-top:1rem}.ml-4{margin-left:1rem}.mt-8{margin-top:2rem}.mt-16{margin-top:4rem}.mb-16{margin-bottom:4rem}.mr-auto{margin-right:auto}.ml-auto{margin-left:auto}.opacity-50{opacity:.5}.hover\:opacity-100:hover{opacity:1}.outline-none{outline:0}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.p-4{padding:1rem}.p-6{padding:1.5rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.px-1{padding-left:.25rem;padding-right:.25rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-4{padding-top:1rem;padding-bottom:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.px-8{padding-left:2rem;padding-right:2rem}.py-12{padding-top:3rem;padding-bottom:3rem}.pl-4{padding-left:1rem}.pt-24{padding-top:6rem}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:-webkit-sticky;position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.top-0{top:0}.fill-current{fill:currentColor}.text-center{text-align:center}.text-black{--text-opacity:1;color:#000;color:rgba(0,0,0,var(--text-opacity))}.text-white{--text-opacity:1;color:#fff;color:rgba(255,255,255,var(--text-opacity))}.text-gray-800{--text-opacity:1;color:#a2a2a2;color:rgba(162,162,162,var(--text-opacity))}.text-dark{color:#161618}.text-accent-900{--text-opacity:1;color:#a05e95;color:rgba(160,94,149,var(--text-opacity))}.text-accent-800{color:#a05e95;color:var(--accent,#a05e95)}.text-warning{color:#764637}.text-error{--text-opacity:1;color:#cf6679;color:rgba(207,102,121,var(--text-opacity))}.is-dark .dark-mode\:text-white{--text-opacity:1;color:#fff;color:rgba(255,255,255,var(--text-opacity))}.italic{font-style:italic}.uppercase{text-transform:uppercase}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-full{width:100%}.w-screen{width:100vw}.z-20{z-index:20}.z-30{z-index:30}.gap-x-4{-moz-column-gap:1rem;grid-column-gap:1rem;column-gap:1rem}.gap-y-8{grid-row-gap:2rem;row-gap:2rem}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.transform{--transform-translate-x:0;--transform-translate-y:0;--transform-rotate:0;--transform-skew-x:0;--transform-skew-y:0;--transform-scale-x:1;--transform-scale-y:1;transform:translateX(var(--transform-translate-x)) translateY(var(--transform-translate-y)) rotate(var(--transform-rotate)) skewX(var(--transform-skew-x)) skewY(var(--transform-skew-y)) scaleX(var(--transform-scale-x)) scaleY(var(--transform-scale-y))}.transition{transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform}.transition-opacity{transition-property:opacity}.duration-200{transition-duration:.2s}@-webkit-keyframes spin{to{transform:rotate(1turn)}}@keyframes spin{to{transform:rotate(1turn)}}@-webkit-keyframes ping{75%,to{transform:scale(2);opacity:0}}@keyframes ping{75%,to{transform:scale(2);opacity:0}}@-webkit-keyframes pulse{50%{opacity:.5}}@keyframes pulse{50%{opacity:.5}}@-webkit-keyframes bounce{0%,to{transform:translateY(-25%);-webkit-animation-timing-function:cubic-bezier(.8,0,1,1);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:none;-webkit-animation-timing-function:cubic-bezier(0,0,.2,1);animation-timing-function:cubic-bezier(0,0,.2,1)}}@keyframes bounce{0%,to{transform:translateY(-25%);-webkit-animation-timing-function:cubic-bezier(.8,0,1,1);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:none;-webkit-animation-timing-function:cubic-bezier(0,0,.2,1);animation-timing-function:cubic-bezier(0,0,.2,1)}}@media (min-width:768px){.md\:text-xl{font-size:calc(1em + .4vw)}.md\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}}@media (min-width:1024px){.lg\:block{display:block}.lg\:flex{display:flex}.lg\:hidden{display:none}.lg\:px-10{padding-left:2.5rem;padding-right:2.5rem}}@media (min-width:1280px){.xl\:block{display:block}}.nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;transition:width .1s,opacity .4s;background-color:#000;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}.AppWrapper[data-v-e9769f5a]{--bg-opacity:1;background-color:#fff;background-color:rgba(255,255,255,var(--bg-opacity));color:#161618;width:100%;height:100%;min-height:100vh}.is-dark .AppWrapper[data-v-e9769f5a]{background-color:#161618;--text-opacity:1;color:#fff;color:rgba(255,255,255,var(--text-opacity))}.App[data-v-e9769f5a]{height:100%;margin-left:auto;margin-right:auto;max-width:1500px;grid-template-areas:"content" "footer";display:grid;grid-gap:20px}@media (min-width:1024px){.App[data-v-e9769f5a]{grid-template-areas:"lside content rside" "footer footer footer";grid-template-columns:1.5fr 45rem .5fr;-moz-column-gap:70px;grid-column-gap:70px;column-gap:70px}}@media (min-width:1280px){.App[data-v-e9769f5a]{grid-template-areas:"lside content rside" "footer footer footer";grid-template-columns:1fr 45rem 1fr}}.lside[data-v-e9769f5a]{margin-left:auto;grid-area:lside}.main[data-v-e9769f5a]{padding:3rem 1.5rem;min-width:0}@media (min-width:1024px){.main[data-v-e9769f5a]{padding-left:0;padding-right:0}}.fade-enter-active[data-v-e9769f5a],.fade-leave-active[data-v-e9769f5a]{transition:opacity .8s ease-in-out,transform .2s ease-in-out}.fade-enter[data-v-e9769f5a],.fade-leave-to[data-v-e9769f5a]{opacity:0;transform:translate3d(40%,0,0)}.header__content[data-v-895612fa]{max-width:1300px;margin-left:auto;margin-right:auto}.burger[data-v-70688733]{height:3em;width:3em;font-size:12px;cursor:pointer;transition:all .2s;-webkit-tap-highlight-color:transparent}.burger[data-v-70688733]:focus{outline:0}.burger[data-v-70688733]:after{content:"";display:block;position:absolute;height:150%;width:150%;top:-25%;left:-25%}.burger .burger-lines[data-v-70688733]{top:50%;margin-top:-.125em}.burger .burger-lines[data-v-70688733],.burger .burger-lines[data-v-70688733]:after,.burger .burger-lines[data-v-70688733]:before{pointer-events:none;display:block;content:"";width:100%;border-radius:.25em;background-color:#000;height:.25em;position:absolute;transform:rotate(0)}.is-dark .burger .burger-lines[data-v-70688733],.is-dark .burger .burger-lines[data-v-70688733]:after,.is-dark .burger .burger-lines[data-v-70688733]:before{background-color:#fff}.burger .burger-lines[data-v-70688733]:after{left:0;top:-1em}.burger .burger-lines[data-v-70688733]:before{left:1em;top:1em}.burger.burger-squeeze .burger-lines[data-v-70688733]:after,.burger.burger-squeeze .burger-lines[data-v-70688733]:before{width:2em}@media (prefers-reduced-motion:no-preference){.burger.burger-squeeze .burger-lines[data-v-70688733],.burger.burger-squeeze .burger-lines[data-v-70688733]:after,.burger.burger-squeeze .burger-lines[data-v-70688733]:before{transition:top .2s .2s,left .1s,transform .2s,background-color .4s .2s}.burger.burger-squeeze.open .burger-lines[data-v-70688733],.burger.burger-squeeze.open .burger-lines[data-v-70688733]:after,.burger.burger-squeeze.open .burger-lines[data-v-70688733]:before{transition:background-color .2s,top .2s,left .2s,transform .2s .15s}}.burger.burger-squeeze.open .burger-lines[data-v-70688733]{background-color:transparent}.burger.burger-squeeze.open .burger-lines[data-v-70688733]:after,.burger.burger-squeeze.open .burger-lines[data-v-70688733]:before{left:.5em;top:0}.burger.burger-squeeze.open .burger-lines[data-v-70688733]:before{transform:rotate(-45deg)}.burger.burger-squeeze.open .burger-lines[data-v-70688733]:after{transform:rotate(45deg)}.SideMenu[data-v-f2960fd2]{position:fixed;height:100vh;width:100vw;top:0;right:0;bottom:0;left:0;z-index:20;overflow-y:auto;--bg-opacity:1;background-color:#fff;background-color:rgba(255,255,255,var(--bg-opacity));color:#161618;display:flex;flex-direction:column}.is-dark .SideMenu[data-v-f2960fd2]{background-color:#161618;--text-opacity:1;color:#fff;color:rgba(255,255,255,var(--text-opacity))}@media (prefers-reduced-motion:no-preference){.slide-enter-active[data-v-f2960fd2],.slide-leave-active[data-v-f2960fd2]{transition:transform .25s ease-in-out,opacity .25s ease-in-out}.slide-enter[data-v-f2960fd2],.slide-leave-to[data-v-f2960fd2]{opacity:0;transform:translate3d(100%,0,0)}}nav a[data-v-f2960fd2]{transition:color .3s ease-in-out}nav a[data-v-f2960fd2]::-moz-focus-inner{border:0}nav a[data-v-f2960fd2]:focus,nav a[data-v-f2960fd2]:hover{color:#a05e95;color:var(--accent,#a05e95)}nav a[data-v-f2960fd2]:focus{outline:2px dotted currentColor;outline-offset:2px}nav a[data-v-f2960fd2]:after{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;border:6px solid transparent;content:""}nav a.active[data-v-f2960fd2]:after,nav a[data-v-f2960fd2]:after{transition:border-color .3s ease-in-out}nav a.active[data-v-f2960fd2]:after{border-color:#a05e95;border-color:var(--accent,#a05e95)}.FeedLink[data-v-f2960fd2]{min-width:48px;min-height:48px}button[data-v-725f6df3]{outline:0;align-items:center;justify-content:center;position:relative;min-width:24px;min-height:24px}svg[data-v-725f6df3]{position:absolute}@media (prefers-reduced-motion:no-preference){.popup-enter-active[data-v-725f6df3],.popup-leave-active[data-v-725f6df3]{transition:transform .5s ease-in-out,opacity .3s ease-in-out}.popup-enter[data-v-725f6df3],.popup-leave-to[data-v-725f6df3]{transform:translate3d(0,-50px,0);opacity:0}}[data-v-52fb82fa] h1{font-size:2.25rem;margin-bottom:2rem}[data-v-52fb82fa] h2{font-size:calc(1em + .75vw)}[data-v-52fb82fa] h3{font-size:calc(1em + .4vw)}[data-v-52fb82fa] h4{font-size:1.125rem}[data-v-52fb82fa] h1,[data-v-52fb82fa] h2,[data-v-52fb82fa] h3{font-family:Montserrat,sans-serif}[data-v-52fb82fa] h2,[data-v-52fb82fa] h3,[data-v-52fb82fa] h4{font-weight:600;margin-top:2rem;margin-bottom:2rem;position:relative;transform:translateX(2ch)}[data-v-52fb82fa] h2:before,[data-v-52fb82fa] h3:before,[data-v-52fb82fa] h4:before{position:absolute;color:#a05e95;color:var(--accent,#a05e95);margin-left:-2ch;content:"#"}@media (min-width:1024px){[data-v-52fb82fa] h2,[data-v-52fb82fa] h3,[data-v-52fb82fa] h4{transform:none}}[data-v-52fb82fa] p+p,[data-v-52fb82fa] ul{margin-top:1rem}[data-v-52fb82fa] ul{padding-left:2rem;padding-right:2rem;margin-bottom:1rem;list-style-type:disc}[data-v-52fb82fa] ul li+li{margin-top:.5rem}[data-v-52fb82fa] .features ul li{position:relative;display:flex;align-items:center}[data-v-52fb82fa] .features ul li:before{width:1.25rem;height:1.25rem;position:absolute;border-radius:9999px;display:flex;--text-opacity:1;color:#a05e95;color:rgba(160,94,149,var(--text-opacity));--bg-opacity:1;background-color:#a05e95;background-color:rgba(160,94,149,var(--bg-opacity));align-items:center;justify-content:center;content:"âœ“";left:-2rem}[data-v-52fb82fa] .nuxt-content-highlight{margin-top:1rem;margin-bottom:1rem;font-size:.875rem}[data-v-52fb82fa] blockquote{padding-top:.5rem;padding-bottom:.5rem;border-top-right-radius:.5rem;border-bottom-right-radius:.5rem;padding-left:1rem;--bg-opacity:1;background-color:#f6f6f6;background-color:rgba(246,246,246,var(--bg-opacity));font-size:.875rem;border-left-width:4px;border-color:#a05e95;border-color:var(--accent,#a05e95);font-style:italic;margin-top:2rem;margin-bottom:2rem}[data-v-52fb82fa] pre[class*=language-]{border-radius:.5rem;margin-top:1rem;margin-bottom:1rem;display:block;border-width:1px;--border-opacity:1;border-color:#f6f6f6;border-color:rgba(246,246,246,var(--border-opacity))}[data-v-52fb82fa] :not(pre)>code:not([class]){font-size:.875rem;padding-left:.25rem;padding-right:.25rem;border-radius:.25rem;--bg-opacity:1;background-color:#f6f6f6;background-color:rgba(246,246,246,var(--bg-opacity));border-width:1px;border-color:#bdbdbd;color:#4a4a4a}[data-v-52fb82fa] details{margin-top:2.5rem;margin-bottom:2.5rem;padding-left:.75rem;padding-right:.75rem}[data-v-52fb82fa] details summary{outline:0;margin-bottom:2rem}[data-v-52fb82fa] ol{list-style-type:decimal;padding-left:2rem;padding-right:2rem}[data-v-52fb82fa] li a[href],[data-v-52fb82fa] p a[href],[data-v-52fb82fa] td a[href]{color:#a05e95;color:var(--accent,#a05e95)}[data-v-52fb82fa] li a[href]:hover,[data-v-52fb82fa] p a[href]:hover,[data-v-52fb82fa] td a[href]:hover{text-decoration:underline}[data-v-52fb82fa] code .token.deleted{color:#ec5975}[data-v-52fb82fa] code .token.inserted{color:#0a7a34}[data-v-52fb82fa] pre,[data-v-52fb82fa] pre[class*=language-]{line-height:1.4;padding:1.25rem 1.5rem;margin:.85rem 0;background-color:#f6f6f6;border-radius:6px;overflow:auto;position:relative}[data-v-52fb82fa] pre code,[data-v-52fb82fa] pre[class*=language-] code{color:#3a385d;padding:0;background-color:transparent;border-radius:0}[data-v-52fb82fa] div[class*=language-]{position:relative;background-color:#f6f6f6;border-radius:6px}[data-v-52fb82fa] div[class*=language-] .highlight-lines{background-color:#f6f6f6;color:#3a385d;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding-top:1.3rem;position:absolute;top:0;left:0;width:100%;line-height:1.4}[data-v-52fb82fa] div[class*=language-] .highlight-lines .highlighted{background-color:#f8ec06}[data-v-52fb82fa] div[class*=language-] pre,[data-v-52fb82fa] div[class*=language-] pre[class*=language-]{background:0 0;position:relative;z-index:1}[data-v-52fb82fa] [class*=language-]:before{position:absolute;z-index:3;top:.8em;right:1em;font-size:.75rem;color:#00000c}[data-v-52fb82fa] div[class*=language-]:not(.line-numbers-mode) .line-numbers-wrapper{display:none}[data-v-52fb82fa] div[class*=language-].line-numbers-mode .highlight-lines .highlighted{position:relative}[data-v-52fb82fa] div[class*=language-].line-numbers-mode .highlight-lines .highlighted:before{content:" ";position:absolute;z-index:3;left:0;top:0;display:block;width:1rem;height:100%;background-color:hsla(0,0%,100%,.95)}[data-v-52fb82fa] div[class*=language-].line-numbers-mode pre{padding-left:1rem;vertical-align:middle}[data-v-52fb82fa] div[class*=language-].line-numbers-mode .line-numbers-wrapper{position:absolute;top:0;width:1rem;text-align:center;color:hsla(0,0%,100%,.3);padding:1.25rem 0;line-height:1.4}[data-v-52fb82fa] div[class*=language-].line-numbers-mode .line-numbers-wrapper .line-number,[data-v-52fb82fa] div[class*=language-].line-numbers-mode .line-numbers-wrapper br{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[data-v-52fb82fa] div[class*=language-].line-numbers-mode .line-numbers-wrapper .line-number{position:relative;z-index:4;font-size:.85em}[data-v-52fb82fa] div[class*=language-].line-numbers-mode:after{content:"";position:absolute;z-index:2;top:0;left:0;width:1rem;height:100%;border-radius:6px 0 0 6px;border-right:1px solid rgba(0,0,0,.66)}[data-v-52fb82fa] .language-html:before{content:"html"}[data-v-52fb82fa] .language-js:before{content:"js"}[data-v-52fb82fa] .language-ts:before{content:"ts"}[data-v-52fb82fa] div[class~=language-javascript]:before{content:"js"}[data-v-52fb82fa] div[class~=language-typescript]:before{content:"ts"}[data-v-52fb82fa] div[class~=language-markup]:before{content:"html"}[data-v-52fb82fa] div[class~=language-json]:before{content:"json"}[data-v-52fb82fa] div.reactivecontent{width:1000px;margin-left:-100px}[data-v-52fb82fa] .token.punctuation{color:#a8a9cc}[data-v-52fb82fa] .token.attr-name,[data-v-52fb82fa] .token.deleted,[data-v-52fb82fa] .token.namespace,[data-v-52fb82fa] .token.tag{color:#b2085f}[data-v-52fb82fa] .token.attr-value,[data-v-52fb82fa] .token.char,[data-v-52fb82fa] .token.regex,[data-v-52fb82fa] .token.string,[data-v-52fb82fa] .token.variable{color:#0a7a34}[data-v-52fb82fa] .token.atrule,[data-v-52fb82fa] .token.builtin,[data-v-52fb82fa] .token.important,[data-v-52fb82fa] .token.keyword,[data-v-52fb82fa] .token.selector{color:#b92dbc}[data-v-52fb82fa] .token.boolean,[data-v-52fb82fa] .token.function,[data-v-52fb82fa] .token.number{color:#c25205}[data-v-52fb82fa] .token.class-name,[data-v-52fb82fa] .token.constant,[data-v-52fb82fa] .token.property,[data-v-52fb82fa] .token.symbol{color:#717c11}[data-v-52fb82fa] .token.entity,[data-v-52fb82fa] .token.operator,[data-v-52fb82fa] .token.url{color:#0b7e7d}[data-v-52fb82fa] .token.block-comment,[data-v-52fb82fa] .token.cdata,[data-v-52fb82fa] .token.comment,[data-v-52fb82fa] .token.doctype,[data-v-52fb82fa] .token.prolog{color:#848486}[data-v-52fb82fa] table{width:100%;margin-top:1rem;margin-bottom:1rem}[data-v-52fb82fa] table,[data-v-52fb82fa] td,[data-v-52fb82fa] th{border-width:1px;border-color:#bdbdbd}[data-v-52fb82fa] td,[data-v-52fb82fa] th{padding:.75rem}.is-dark [data-v-52fb82fa] :not(pre)>code:not([class]){padding-left:.25rem;padding-right:.25rem;--bg-opacity:1;background-color:#000;background-color:rgba(0,0,0,var(--bg-opacity));border-width:1px;border-color:#4a4a4a;color:#bdbdbd}.is-dark [data-v-52fb82fa] blockquote{--text-opacity:1;color:#000;color:rgba(0,0,0,var(--text-opacity))}.is-dark [data-v-52fb82fa] code[class*=language-],.is-dark [data-v-52fb82fa] pre[class*=language-]{background-color:#070707;text-shadow:none;color:#d6deeb;font-family:Consolas,Monaco,"Andale Mono","Ubuntu Mono",monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}.is-dark [data-v-52fb82fa] code[class*=language-] ::-moz-selection,.is-dark [data-v-52fb82fa] code[class*=language-]::-moz-selection,.is-dark [data-v-52fb82fa] pre[class*=language-] ::-moz-selection,.is-dark [data-v-52fb82fa] pre[class*=language-]::-moz-selection{text-shadow:none;background:rgba(29,59,83,.99)}.is-dark [data-v-52fb82fa] code[class*=language-] ::selection,.is-dark [data-v-52fb82fa] code[class*=language-]::selection,.is-dark [data-v-52fb82fa] pre[class*=language-] ::selection,.is-dark [data-v-52fb82fa] pre[class*=language-]::selection{text-shadow:none;background:rgba(29,59,83,.99)}@media print{.is-dark [data-v-52fb82fa] code[class*=language-],.is-dark [data-v-52fb82fa] pre[class*=language-]{text-shadow:none}}.is-dark [data-v-52fb82fa] pre{padding:1em;margin:.5em 0;overflow:auto}.is-dark [data-v-52fb82fa] :not(pre)>code,.is-dark [data-v-52fb82fa] pre{color:#fff;background:#011627}.is-dark [data-v-52fb82fa] :not(pre)>code{padding:.1em;border-radius:.3em;white-space:normal}.is-dark [data-v-52fb82fa] .token.cdata,.is-dark [data-v-52fb82fa] .token.comment,.is-dark [data-v-52fb82fa] .token.prolog{color:#637777;font-style:italic}.is-dark [data-v-52fb82fa] .token.punctuation{color:#c792ea}.is-dark [data-v-52fb82fa] .namespace{color:#b2ccd6}.is-dark [data-v-52fb82fa] .token.deleted{color:rgba(239,83,80,.56);font-style:italic}.is-dark [data-v-52fb82fa] .token.property,.is-dark [data-v-52fb82fa] .token.symbol{color:#80cbc4}.is-dark [data-v-52fb82fa] .token.keyword,.is-dark [data-v-52fb82fa] .token.operator,.is-dark [data-v-52fb82fa] .token.tag{color:#7fdbca;background:0 0}.is-dark [data-v-52fb82fa] .token.boolean{color:#ff5874}.is-dark [data-v-52fb82fa] .token.number{color:#f78c6c}.is-dark [data-v-52fb82fa] .token.builtin,.is-dark [data-v-52fb82fa] .token.char,.is-dark [data-v-52fb82fa] .token.constant,.is-dark [data-v-52fb82fa] .token.function{color:#82aaff}.is-dark [data-v-52fb82fa] .token.doctype,.is-dark [data-v-52fb82fa] .token.selector{color:#c792ea;font-style:italic}.is-dark [data-v-52fb82fa] .token.attr-name,.is-dark [data-v-52fb82fa] .token.inserted{color:#addb67;font-style:italic}.is-dark [data-v-52fb82fa] .language-css .token.string,.is-dark [data-v-52fb82fa] .style .token.string,.is-dark [data-v-52fb82fa] .token.entity,.is-dark [data-v-52fb82fa] .token.string,.is-dark [data-v-52fb82fa] .token.url{color:#addb67}.is-dark [data-v-52fb82fa] .token.atrule,.is-dark [data-v-52fb82fa] .token.attr-value,.is-dark [data-v-52fb82fa] .token.class-name{color:#ffcb8b}.is-dark [data-v-52fb82fa] .token.important,.is-dark [data-v-52fb82fa] .token.regex,.is-dark [data-v-52fb82fa] .token.variable{color:#d6deeb}.is-dark [data-v-52fb82fa] .token.bold,.is-dark [data-v-52fb82fa] .token.important{font-weight:700}.is-dark [data-v-52fb82fa] .token.italic{font-style:italic}.is-dark [data-v-52fb82fa] pre code,.is-dark [data-v-52fb82fa] pre[class*=language-] code{color:#d6deeb}.is-dark [data-v-52fb82fa] [class*=language-]:before{--text-opacity:1;color:#333;color:rgba(51,51,51,var(--text-opacity))}.is-dark [data-v-52fb82fa] pre[class*=language-],.is-dark [data-v-52fb82fa] table,.is-dark [data-v-52fb82fa] td,.is-dark [data-v-52fb82fa] th{--border-opacity:1;border-color:#333;border-color:rgba(51,51,51,var(--border-opacity))}.is-dark [data-v-52fb82fa] table,.is-dark [data-v-52fb82fa] td,.is-dark [data-v-52fb82fa] th{border-width:1px}@media (prefers-reduced-motion:no-preference){nav a[data-v-ee0b0be6]{transition:color .2s ease-in-out}}nav a.nuxt-link-active[data-v-ee0b0be6],nav a[data-v-ee0b0be6]:hover{color:#a05e95;color:var(--accent,#a05e95)}@media (prefers-reduced-motion:no-preference){nav a[data-v-ee25ff46]{transition:transform .3s ease-in-out,color .2s ease-in-out}}nav a[data-v-ee25ff46]:hover{color:#a05e95;color:var(--accent,#a05e95)}@media (prefers-reduced-motion:no-preference){nav a[data-v-ee25ff46]:hover{transform:translate3d(10px,0,0)}}</style>
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div class="AppWrapper" data-v-e9769f5a><header class="py-4 sticky top-0 dark-mode:bg-dark bg-white z-20 border-b dark-mode:border-carbon border-gray-700" data-v-895612fa data-v-e9769f5a><div class="flex items-center header__content px-6 lg:px-10" data-v-895612fa><div class="mr-auto flex items-baseline" data-v-895612fa><a href="/villus/" class="ml-1 text-accent font-bold nuxt-link-active" data-v-895612fa>Villus</a></div> <button class="burger burger-squeeze ml-auto block lg:hidden relative z-30" data-v-70688733 data-v-895612fa><div class="burger-lines" data-v-70688733></div></button> <!----> <a href="https://github.com/logaretm/villus" target="_blank" rel="noopener" class="ml-4 transition-opacity opacity-50 dark-mode:text-white hover:opacity-100 text-dark duration-200 hidden lg:block" data-v-895612fa><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="fill-current w-5 h-5" data-v-895612fa><title data-v-895612fa>GitHub</title> <path d="M10 0a10 10 0 0 0-3.16 19.49c.5.1.68-.22.68-.48l-.01-1.7c-2.78.6-3.37-1.34-3.37-1.34-.46-1.16-1.11-1.47-1.11-1.47-.9-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.9 1.52 2.34 1.08 2.91.83.1-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.94 0-1.1.39-1.99 1.03-2.69a3.6 3.6 0 0 1 .1-2.64s.84-.27 2.75 1.02a9.58 9.58 0 0 1 5 0c1.91-1.3 2.75-1.02 2.75-1.02.55 1.37.2 2.4.1 2.64.64.7 1.03 1.6 1.03 2.69 0 3.84-2.34 4.68-4.57 4.93.36.31.68.92.68 1.85l-.01 2.75c0 .26.18.58.69.48A10 10 0 0 0 10 0" data-v-895612fa></path></svg></a> <button class="opacity-50 transition-opacity duration-200 hover:opacity-100 ml-4 hidden lg:flex" data-v-725f6df3 data-v-895612fa><!----> <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="24" height="24" viewBox="0 0 24 24" class="fill-current text-dark" data-v-725f6df3 data-v-725f6df3><title data-v-725f6df3>Light Mode</title> <path d="M0 0h24v24H0z" fill="none" data-v-725f6df3></path> <path d="M12,19a1,1,0,0,1,1,1v1a1,1,0,0,1-2,0V20A1,1,0,0,1,12,19ZM13,4V3a1,1,0,0,0-2,0V4a1,1,0,0,0,2,0ZM3,11a1,1,0,0,0,0,2H4a1,1,0,0,0,0-2Zm18,0H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2ZM4.93,17.65a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0l.7-.7A1,1,0,0,0,5.63,17ZM19.07,4.93a1,1,0,0,0-1.42,0l-.7.7a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0l.7-.7A1,1,0,0,0,19.07,4.93Zm-14.14,0a1,1,0,0,0,0,1.42l.7.7a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42l-.7-.7A1,1,0,0,0,4.93,4.93ZM18.37,17A1,1,0,0,0,17,18.37l.7.7a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42ZM12,6a6,6,0,1,1-6,6A6,6,0,0,1,12,6ZM8,12a4,4,0,1,0,4-4A4,4,0,0,0,8,12Z" data-v-725f6df3></path></svg></button></div></header> <div class="App" data-v-e9769f5a><main class="main" data-v-e9769f5a><div class="nuxt-content" data-v-52fb82fa data-v-52fb82fa data-v-e9769f5a><h1 id="queries" data-v-52fb82fa data-v-52fb82fa><a href="#queries" aria-hidden="true" tabindex="-1" data-v-52fb82fa data-v-52fb82fa><span class="icon icon-link" data-v-52fb82fa data-v-52fb82fa></span></a>Queries</h1>
<p data-v-52fb82fa data-v-52fb82fa>You can query GraphQL APIs with the <code data-v-52fb82fa data-v-52fb82fa>useQuery</code> function or <code data-v-52fb82fa data-v-52fb82fa>Query</code> component after you've setup the <a href="/villus/setup.md" data-v-52fb82fa>GraphQL Client</a>. This guide will focus on using the composable API because it is more flexible and concise, everything covered in this guide can be done with the <code data-v-52fb82fa data-v-52fb82fa>Query</code> component.</p>
<h2 id="queries-basics" data-v-52fb82fa data-v-52fb82fa><a href="#queries-basics" aria-hidden="true" tabindex="-1" data-v-52fb82fa data-v-52fb82fa><span class="icon icon-link" data-v-52fb82fa data-v-52fb82fa></span></a>Queries Basics</h2>
<p data-v-52fb82fa data-v-52fb82fa>The <code data-v-52fb82fa data-v-52fb82fa>useQuery</code> function is a composable function that provides query state and various helper methods around managing the query.</p>
<p data-v-52fb82fa data-v-52fb82fa>To execute a query the <code data-v-52fb82fa data-v-52fb82fa>useQuery</code> accepts a GraphQL query as the first argument. The <code data-v-52fb82fa data-v-52fb82fa>query</code> property is a <code data-v-52fb82fa data-v-52fb82fa>string</code> containing the query body or a <code data-v-52fb82fa data-v-52fb82fa>DocumentNode</code> (AST) created by <code data-v-52fb82fa data-v-52fb82fa>graphql-tag</code>.</p>
<div class="nuxt-content-highlight" data-v-52fb82fa data-v-52fb82fa><pre class="line-numbers language-html" data-v-52fb82fa data-v-52fb82fa><code data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>&lt;</span>template</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>></span></span>
  <span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>&lt;</span>div</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>></span></span>
    <span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>&lt;</span>ul</span> <span class="token attr-name" data-v-52fb82fa data-v-52fb82fa>v-if</span><span class="token attr-value" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation attr-equals" data-v-52fb82fa data-v-52fb82fa>=</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>"</span>data<span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>"</span></span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>></span></span>
      <span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>&lt;</span>li</span> <span class="token attr-name" data-v-52fb82fa data-v-52fb82fa>v-for</span><span class="token attr-value" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation attr-equals" data-v-52fb82fa data-v-52fb82fa>=</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>"</span>todo in data.todos<span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>"</span></span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>></span></span>{{ todo.text }}<span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>&lt;/</span>li</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>></span></span>
    <span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>&lt;/</span>ul</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>></span></span>
  <span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>&lt;/</span>div</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>></span></span>
<span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>&lt;/</span>template</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>></span></span>

<span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>&lt;</span>script</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>></span></span><span class="token script" data-v-52fb82fa data-v-52fb82fa><span class="token language-javascript" data-v-52fb82fa data-v-52fb82fa>
<span class="token keyword module" data-v-52fb82fa data-v-52fb82fa>import</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span> useQuery <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span> <span class="token keyword module" data-v-52fb82fa data-v-52fb82fa>from</span> <span class="token string" data-v-52fb82fa data-v-52fb82fa>'villus'</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>

<span class="token keyword module" data-v-52fb82fa data-v-52fb82fa>export</span> <span class="token keyword module" data-v-52fb82fa data-v-52fb82fa>default</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span>
  <span class="token function" data-v-52fb82fa data-v-52fb82fa>setup</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>(</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>)</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span>
    <span class="token keyword" data-v-52fb82fa data-v-52fb82fa>const</span> <span class="token maybe-class-name" data-v-52fb82fa data-v-52fb82fa>GetTodos</span> <span class="token operator" data-v-52fb82fa data-v-52fb82fa>=</span> <span class="token template-string" data-v-52fb82fa data-v-52fb82fa><span class="token template-punctuation string" data-v-52fb82fa data-v-52fb82fa>`</span><span class="token string" data-v-52fb82fa data-v-52fb82fa>
      GetTodos {
        todos {
          id
          title
        }
      }
    </span><span class="token template-punctuation string" data-v-52fb82fa data-v-52fb82fa>`</span></span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>
    <span class="token keyword" data-v-52fb82fa data-v-52fb82fa>const</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span> data <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span> <span class="token operator" data-v-52fb82fa data-v-52fb82fa>=</span> <span class="token function" data-v-52fb82fa data-v-52fb82fa>useQuery</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>(</span><span class="token maybe-class-name" data-v-52fb82fa data-v-52fb82fa>GetTodos</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>)</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>

    <span class="token keyword" data-v-52fb82fa data-v-52fb82fa>return</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span> data <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>
  <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>,</span>
<span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>
</span></span><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>&lt;/</span>script</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>></span></span>
</code></pre></div>
<h2 id="with-graphql-tag" data-v-52fb82fa data-v-52fb82fa><a href="#with-graphql-tag" aria-hidden="true" tabindex="-1" data-v-52fb82fa data-v-52fb82fa><span class="icon icon-link" data-v-52fb82fa data-v-52fb82fa></span></a>With <a href="https://github.com/apollographql/graphql-tag" rel="nofollow noopener noreferrer" target="_blank" data-v-52fb82fa data-v-52fb82fa>graphql-tag</a></h2>
<p data-v-52fb82fa data-v-52fb82fa>You can use <code data-v-52fb82fa data-v-52fb82fa>graphql-tag</code> to compile your queries or load them with the <code data-v-52fb82fa data-v-52fb82fa>graphql-tag/loader</code>.</p>
<p data-v-52fb82fa data-v-52fb82fa>This a sample with the <code data-v-52fb82fa data-v-52fb82fa>useQuery</code> function:</p>
<div class="nuxt-content-highlight" data-v-52fb82fa data-v-52fb82fa><pre class="line-numbers language-js" data-v-52fb82fa data-v-52fb82fa><code data-v-52fb82fa data-v-52fb82fa><span class="token keyword module" data-v-52fb82fa data-v-52fb82fa>import</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span> gql <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span> <span class="token keyword module" data-v-52fb82fa data-v-52fb82fa>from</span> <span class="token string" data-v-52fb82fa data-v-52fb82fa>'graphql-tag'</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>

<span class="token comment" data-v-52fb82fa data-v-52fb82fa>// In setup</span>
<span class="token keyword" data-v-52fb82fa data-v-52fb82fa>const</span> <span class="token maybe-class-name" data-v-52fb82fa data-v-52fb82fa>GetTodos</span> <span class="token operator" data-v-52fb82fa data-v-52fb82fa>=</span> gql<span class="token template-string" data-v-52fb82fa data-v-52fb82fa><span class="token template-punctuation string" data-v-52fb82fa data-v-52fb82fa>`</span><span class="token graphql language-graphql" data-v-52fb82fa data-v-52fb82fa>
  GetTodos <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span>
    todos <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span>
      id
      title
    <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span>
  <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span>
</span><span class="token template-punctuation string" data-v-52fb82fa data-v-52fb82fa>`</span></span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>

<span class="token keyword" data-v-52fb82fa data-v-52fb82fa>const</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span> data <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span> <span class="token operator" data-v-52fb82fa data-v-52fb82fa>=</span> <span class="token function" data-v-52fb82fa data-v-52fb82fa>useQuery</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>(</span><span class="token maybe-class-name" data-v-52fb82fa data-v-52fb82fa>GetTodos</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>)</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>

<span class="token keyword" data-v-52fb82fa data-v-52fb82fa>return</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span> data <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>
</code></pre></div>
<p data-v-52fb82fa data-v-52fb82fa>If you are using <strong data-v-52fb82fa data-v-52fb82fa>webpack</strong> you can configure the loader <code data-v-52fb82fa data-v-52fb82fa>graphql-tag/loader</code> and use <code data-v-52fb82fa data-v-52fb82fa>import/require</code>:</p>
<div class="nuxt-content-highlight" data-v-52fb82fa data-v-52fb82fa><pre class="line-numbers language-js" data-v-52fb82fa data-v-52fb82fa><code data-v-52fb82fa data-v-52fb82fa><span class="token keyword module" data-v-52fb82fa data-v-52fb82fa>import</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span> <span class="token maybe-class-name" data-v-52fb82fa data-v-52fb82fa>Todos</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span> <span class="token keyword module" data-v-52fb82fa data-v-52fb82fa>from</span> <span class="token string" data-v-52fb82fa data-v-52fb82fa>'@/graphql/todos.gql'</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>

<span class="token comment" data-v-52fb82fa data-v-52fb82fa>// In setup</span>
<span class="token keyword" data-v-52fb82fa data-v-52fb82fa>const</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span> data <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span> <span class="token operator" data-v-52fb82fa data-v-52fb82fa>=</span> <span class="token function" data-v-52fb82fa data-v-52fb82fa>useQuery</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>(</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span>
  query<span class="token operator" data-v-52fb82fa data-v-52fb82fa>:</span> <span class="token maybe-class-name" data-v-52fb82fa data-v-52fb82fa>Todos</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>,</span>
<span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>)</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>

<span class="token keyword" data-v-52fb82fa data-v-52fb82fa>return</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span> data <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>
</code></pre></div>
<h2 id="query-variables" data-v-52fb82fa data-v-52fb82fa><a href="#query-variables" aria-hidden="true" tabindex="-1" data-v-52fb82fa data-v-52fb82fa><span class="icon icon-link" data-v-52fb82fa data-v-52fb82fa></span></a>Query Variables</h2>
<p data-v-52fb82fa data-v-52fb82fa>You can pass variables to your queries as the second argument of <code data-v-52fb82fa data-v-52fb82fa>useQuery</code>:</p>
<div class="nuxt-content-highlight" data-v-52fb82fa data-v-52fb82fa><pre class="line-numbers language-js" data-v-52fb82fa data-v-52fb82fa><code data-v-52fb82fa data-v-52fb82fa><span class="token comment" data-v-52fb82fa data-v-52fb82fa>// in setup</span>

<span class="token keyword" data-v-52fb82fa data-v-52fb82fa>const</span> <span class="token maybe-class-name" data-v-52fb82fa data-v-52fb82fa>FetchTodo</span> <span class="token operator" data-v-52fb82fa data-v-52fb82fa>=</span> <span class="token template-string" data-v-52fb82fa data-v-52fb82fa><span class="token template-punctuation string" data-v-52fb82fa data-v-52fb82fa>`</span><span class="token string" data-v-52fb82fa data-v-52fb82fa>
  query FetchTodo ($id: ID!) {
    todo (id: $id) {
      text
    }
  }
</span><span class="token template-punctuation string" data-v-52fb82fa data-v-52fb82fa>`</span></span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>

<span class="token keyword" data-v-52fb82fa data-v-52fb82fa>const</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span> data <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span> <span class="token operator" data-v-52fb82fa data-v-52fb82fa>=</span> <span class="token function" data-v-52fb82fa data-v-52fb82fa>useQuery</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>(</span><span class="token maybe-class-name" data-v-52fb82fa data-v-52fb82fa>FetchTodo</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>,</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span>
  id<span class="token operator" data-v-52fb82fa data-v-52fb82fa>:</span> <span class="token number" data-v-52fb82fa data-v-52fb82fa>123</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>,</span>
<span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>)</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>
</code></pre></div>
<p data-v-52fb82fa data-v-52fb82fa>However if you want to re-fetch the query whenever the variables change, then this is where the composable API shines. You can pass a <a href="https://v3.vuejs.org/api/basic-reactivity.html#reactive" rel="nofollow noopener noreferrer" target="_blank" data-v-52fb82fa data-v-52fb82fa>reactive object</a> containing your variables and the query will automatically execute with the new variables value:</p>
<div class="nuxt-content-highlight" data-v-52fb82fa data-v-52fb82fa><pre class="line-numbers language-js" data-v-52fb82fa data-v-52fb82fa><code data-v-52fb82fa data-v-52fb82fa><span class="token keyword module" data-v-52fb82fa data-v-52fb82fa>import</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span> reactive <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span> <span class="token keyword module" data-v-52fb82fa data-v-52fb82fa>from</span> <span class="token string" data-v-52fb82fa data-v-52fb82fa>'vue'</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>
<span class="token keyword module" data-v-52fb82fa data-v-52fb82fa>import</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span> useQuery <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span> <span class="token keyword module" data-v-52fb82fa data-v-52fb82fa>from</span> <span class="token string" data-v-52fb82fa data-v-52fb82fa>'villus'</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>

<span class="token keyword" data-v-52fb82fa data-v-52fb82fa>const</span> variables <span class="token operator" data-v-52fb82fa data-v-52fb82fa>=</span> <span class="token function" data-v-52fb82fa data-v-52fb82fa>reactive</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>(</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span>
  id<span class="token operator" data-v-52fb82fa data-v-52fb82fa>:</span> <span class="token number" data-v-52fb82fa data-v-52fb82fa>123</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>,</span>
<span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>)</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>

<span class="token keyword" data-v-52fb82fa data-v-52fb82fa>const</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span> data <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span> <span class="token operator" data-v-52fb82fa data-v-52fb82fa>=</span> <span class="token function" data-v-52fb82fa data-v-52fb82fa>useQuery</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>(</span>
  <span class="token template-string" data-v-52fb82fa data-v-52fb82fa><span class="token template-punctuation string" data-v-52fb82fa data-v-52fb82fa>`</span><span class="token string" data-v-52fb82fa data-v-52fb82fa>query FetchTodo ($id: ID!) {
      todo (id: $id) {
        text
      }
    }
  </span><span class="token template-punctuation string" data-v-52fb82fa data-v-52fb82fa>`</span></span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>,</span>
  variables
<span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>)</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>
</code></pre></div>
<p data-v-52fb82fa data-v-52fb82fa>This also works with <a href="https://v3.vuejs.org/api/refs-api.html#ref" rel="nofollow noopener noreferrer" target="_blank" data-v-52fb82fa data-v-52fb82fa>reactive Refs</a></p>
<div class="nuxt-content-highlight" data-v-52fb82fa data-v-52fb82fa><pre class="line-numbers language-js" data-v-52fb82fa data-v-52fb82fa><code data-v-52fb82fa data-v-52fb82fa><span class="token keyword module" data-v-52fb82fa data-v-52fb82fa>import</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span> ref <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span> <span class="token keyword module" data-v-52fb82fa data-v-52fb82fa>from</span> <span class="token string" data-v-52fb82fa data-v-52fb82fa>'vue'</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>
<span class="token keyword module" data-v-52fb82fa data-v-52fb82fa>import</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span> useQuery <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span> <span class="token keyword module" data-v-52fb82fa data-v-52fb82fa>from</span> <span class="token string" data-v-52fb82fa data-v-52fb82fa>'villus'</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>

<span class="token keyword" data-v-52fb82fa data-v-52fb82fa>const</span> variables <span class="token operator" data-v-52fb82fa data-v-52fb82fa>=</span> <span class="token function" data-v-52fb82fa data-v-52fb82fa>ref</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>(</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span>
  id<span class="token operator" data-v-52fb82fa data-v-52fb82fa>:</span> <span class="token number" data-v-52fb82fa data-v-52fb82fa>123</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>,</span>
<span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>)</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>

<span class="token keyword" data-v-52fb82fa data-v-52fb82fa>const</span> <span class="token maybe-class-name" data-v-52fb82fa data-v-52fb82fa>FetchTodo</span> <span class="token operator" data-v-52fb82fa data-v-52fb82fa>=</span> <span class="token template-string" data-v-52fb82fa data-v-52fb82fa><span class="token template-punctuation string" data-v-52fb82fa data-v-52fb82fa>`</span><span class="token string" data-v-52fb82fa data-v-52fb82fa>
  query FetchTodo ($id: ID!) {
    todo (id: $id) {
      text
    }
  }
</span><span class="token template-punctuation string" data-v-52fb82fa data-v-52fb82fa>`</span></span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>

<span class="token keyword" data-v-52fb82fa data-v-52fb82fa>const</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span> data <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span> <span class="token operator" data-v-52fb82fa data-v-52fb82fa>=</span> <span class="token function" data-v-52fb82fa data-v-52fb82fa>useQuery</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>(</span><span class="token maybe-class-name" data-v-52fb82fa data-v-52fb82fa>FetchTodo</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>,</span> variables<span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>)</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>
</code></pre></div>
<p data-v-52fb82fa data-v-52fb82fa>This is only one way to re-fetch queries, because <code data-v-52fb82fa data-v-52fb82fa>villus</code> is built with composable API first you will find many ways to re-fetch your queries no matter how complex your requirements are.</p>
<h2 id="re-fetching-queries" data-v-52fb82fa data-v-52fb82fa><a href="#re-fetching-queries" aria-hidden="true" tabindex="-1" data-v-52fb82fa data-v-52fb82fa><span class="icon icon-link" data-v-52fb82fa data-v-52fb82fa></span></a>Re-fetching Queries</h2>
<p data-v-52fb82fa data-v-52fb82fa>Sometimes you want to re-fetch the query or run it after some action, the <code data-v-52fb82fa data-v-52fb82fa>execute</code> function that is returned from the <code data-v-52fb82fa data-v-52fb82fa>useQuery</code> function and available on the <code data-v-52fb82fa data-v-52fb82fa>Query</code> component slot props. When called it re-executes the query. This example executes the query after the button has been clicked, note that the query is still fetched initially.</p>
<p data-v-52fb82fa data-v-52fb82fa>Here is a snippet for calling <code data-v-52fb82fa data-v-52fb82fa>execute</code> with <code data-v-52fb82fa data-v-52fb82fa>useQuery</code>:</p>
<div class="nuxt-content-highlight" data-v-52fb82fa data-v-52fb82fa><pre class="line-numbers language-js" data-v-52fb82fa data-v-52fb82fa><code data-v-52fb82fa data-v-52fb82fa><span class="token comment" data-v-52fb82fa data-v-52fb82fa>// in setup</span>
<span class="token keyword" data-v-52fb82fa data-v-52fb82fa>const</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span> data<span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>,</span> execute <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span> <span class="token operator" data-v-52fb82fa data-v-52fb82fa>=</span> <span class="token function" data-v-52fb82fa data-v-52fb82fa>useQuery</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>(</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span>
  <span class="token comment" data-v-52fb82fa data-v-52fb82fa>// ...</span>
<span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>)</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>

<span class="token keyword" data-v-52fb82fa data-v-52fb82fa>return</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span>
  data<span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>,</span>
  <span class="token comment" data-v-52fb82fa data-v-52fb82fa>// call execute whenever you want the query to re-fetch</span>
  execute<span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>,</span>
<span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>
</code></pre></div>
<p data-v-52fb82fa data-v-52fb82fa>This can be very useful in situations where you have a complex logic that triggers a refetch, that means <code data-v-52fb82fa data-v-52fb82fa>watch</code> and <code data-v-52fb82fa data-v-52fb82fa>watchEffect</code> play really well with the <code data-v-52fb82fa data-v-52fb82fa>execute</code> function:</p>
<div class="nuxt-content-highlight" data-v-52fb82fa data-v-52fb82fa><pre class="line-numbers language-js" data-v-52fb82fa data-v-52fb82fa><code data-v-52fb82fa data-v-52fb82fa><span class="token keyword module" data-v-52fb82fa data-v-52fb82fa>import</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span> watch <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span> <span class="token keyword module" data-v-52fb82fa data-v-52fb82fa>from</span> <span class="token string" data-v-52fb82fa data-v-52fb82fa>'vue'</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>
<span class="token keyword module" data-v-52fb82fa data-v-52fb82fa>import</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span> useQuery <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span> <span class="token keyword module" data-v-52fb82fa data-v-52fb82fa>from</span> <span class="token string" data-v-52fb82fa data-v-52fb82fa>'villus'</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>

<span class="token keyword" data-v-52fb82fa data-v-52fb82fa>const</span> <span class="token maybe-class-name" data-v-52fb82fa data-v-52fb82fa>GetTodos</span> <span class="token operator" data-v-52fb82fa data-v-52fb82fa>=</span> <span class="token template-string" data-v-52fb82fa data-v-52fb82fa><span class="token template-punctuation string" data-v-52fb82fa data-v-52fb82fa>`</span><span class="token string" data-v-52fb82fa data-v-52fb82fa>
  GetTodos {
    todos {
      id
      title
    }
  }
</span><span class="token template-punctuation string" data-v-52fb82fa data-v-52fb82fa>`</span></span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>

<span class="token comment" data-v-52fb82fa data-v-52fb82fa>// in your setup</span>
<span class="token keyword" data-v-52fb82fa data-v-52fb82fa>const</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span> data<span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>,</span> execute <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span> <span class="token operator" data-v-52fb82fa data-v-52fb82fa>=</span> <span class="token function" data-v-52fb82fa data-v-52fb82fa>useQuery</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>(</span><span class="token maybe-class-name" data-v-52fb82fa data-v-52fb82fa>GetTodos</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>)</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>

<span class="token function" data-v-52fb82fa data-v-52fb82fa>watch</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>(</span>someComputedProp<span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>,</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>(</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>)</span> <span class="token arrow operator" data-v-52fb82fa data-v-52fb82fa>=></span> <span class="token function" data-v-52fb82fa data-v-52fb82fa>execute</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>(</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>)</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>)</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>
</code></pre></div>
<h2 id="reactive-queries" data-v-52fb82fa data-v-52fb82fa><a href="#reactive-queries" aria-hidden="true" tabindex="-1" data-v-52fb82fa data-v-52fb82fa><span class="icon icon-link" data-v-52fb82fa data-v-52fb82fa></span></a>Reactive Queries</h2>
<p data-v-52fb82fa data-v-52fb82fa>Vue is all about reactivity to achieve better DX, and villus follows this philosophy as well. You are not only limited to reactive variables, you can also have reactive queries. In other words, queries created with <code data-v-52fb82fa data-v-52fb82fa>ref</code> or <code data-v-52fb82fa data-v-52fb82fa>computed</code> are recognized as reactive queries and will be watched automatically and re-fetched whenever the query changes.</p>
<div class="nuxt-content-highlight" data-v-52fb82fa data-v-52fb82fa><pre class="line-numbers language-js" data-v-52fb82fa data-v-52fb82fa><code data-v-52fb82fa data-v-52fb82fa><span class="token keyword module" data-v-52fb82fa data-v-52fb82fa>import</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span> computed<span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>,</span> ref <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span> <span class="token keyword module" data-v-52fb82fa data-v-52fb82fa>from</span> <span class="token string" data-v-52fb82fa data-v-52fb82fa>'vue'</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>
<span class="token keyword module" data-v-52fb82fa data-v-52fb82fa>import</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span> useQuery <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span> <span class="token keyword module" data-v-52fb82fa data-v-52fb82fa>from</span> <span class="token string" data-v-52fb82fa data-v-52fb82fa>'villus'</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>

<span class="token comment" data-v-52fb82fa data-v-52fb82fa>// computed id that will be used to compute the query</span>
<span class="token keyword" data-v-52fb82fa data-v-52fb82fa>const</span> id <span class="token operator" data-v-52fb82fa data-v-52fb82fa>=</span> <span class="token function" data-v-52fb82fa data-v-52fb82fa>ref</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>(</span><span class="token number" data-v-52fb82fa data-v-52fb82fa>1</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>)</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>

<span class="token comment" data-v-52fb82fa data-v-52fb82fa>// Create a computed query</span>
<span class="token keyword" data-v-52fb82fa data-v-52fb82fa>const</span> <span class="token maybe-class-name" data-v-52fb82fa data-v-52fb82fa>FetchTodo</span> <span class="token operator" data-v-52fb82fa data-v-52fb82fa>=</span> <span class="token function" data-v-52fb82fa data-v-52fb82fa>computed</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>(</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>(</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>)</span> <span class="token arrow operator" data-v-52fb82fa data-v-52fb82fa>=></span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span>
  <span class="token keyword" data-v-52fb82fa data-v-52fb82fa>return</span> <span class="token template-string" data-v-52fb82fa data-v-52fb82fa><span class="token template-punctuation string" data-v-52fb82fa data-v-52fb82fa>`</span><span class="token string" data-v-52fb82fa data-v-52fb82fa>query FetchTodo {
      todo (id: </span><span class="token interpolation" data-v-52fb82fa data-v-52fb82fa><span class="token interpolation-punctuation punctuation" data-v-52fb82fa data-v-52fb82fa>${</span>id<span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>.</span><span class="token property-access" data-v-52fb82fa data-v-52fb82fa>value</span><span class="token interpolation-punctuation punctuation" data-v-52fb82fa data-v-52fb82fa>}</span></span><span class="token string" data-v-52fb82fa data-v-52fb82fa>) {
        text
      }
    }
  </span><span class="token template-punctuation string" data-v-52fb82fa data-v-52fb82fa>`</span></span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>
<span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>)</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>

<span class="token keyword" data-v-52fb82fa data-v-52fb82fa>const</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span> data <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span> <span class="token operator" data-v-52fb82fa data-v-52fb82fa>=</span> <span class="token function" data-v-52fb82fa data-v-52fb82fa>useQuery</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>(</span><span class="token maybe-class-name" data-v-52fb82fa data-v-52fb82fa>FetchTodo</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>)</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>

<span class="token comment" data-v-52fb82fa data-v-52fb82fa>// later on, changing the `id` ref will automatically refetch the query because it is computed</span>
id<span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>.</span><span class="token property-access" data-v-52fb82fa data-v-52fb82fa>value</span> <span class="token operator" data-v-52fb82fa data-v-52fb82fa>=</span> <span class="token number" data-v-52fb82fa data-v-52fb82fa>2</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>
</code></pre></div>
<p data-v-52fb82fa data-v-52fb82fa>Reactive queries are very flexible and one of the many advantages of using the composition API.</p>
<h3 id="disabling-re-fetching" data-v-52fb82fa data-v-52fb82fa><a href="#disabling-re-fetching" aria-hidden="true" tabindex="-1" data-v-52fb82fa data-v-52fb82fa><span class="icon icon-link" data-v-52fb82fa data-v-52fb82fa></span></a>Disabling Re-fetching</h3>
<p data-v-52fb82fa data-v-52fb82fa>You can disable the automatic refetch behavior by calling the <code data-v-52fb82fa data-v-52fb82fa>pause</code> function returned by the <code data-v-52fb82fa data-v-52fb82fa>useQuery</code> function:</p>
<div class="nuxt-content-highlight" data-v-52fb82fa data-v-52fb82fa><pre class="line-numbers language-js" data-v-52fb82fa data-v-52fb82fa><code data-v-52fb82fa data-v-52fb82fa><span class="token keyword module" data-v-52fb82fa data-v-52fb82fa>import</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span> ref <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span> <span class="token keyword module" data-v-52fb82fa data-v-52fb82fa>from</span> <span class="token string" data-v-52fb82fa data-v-52fb82fa>'vue'</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>

<span class="token keyword" data-v-52fb82fa data-v-52fb82fa>const</span> <span class="token maybe-class-name" data-v-52fb82fa data-v-52fb82fa>GetPostById</span> <span class="token operator" data-v-52fb82fa data-v-52fb82fa>=</span> <span class="token template-string" data-v-52fb82fa data-v-52fb82fa><span class="token template-punctuation string" data-v-52fb82fa data-v-52fb82fa>`</span><span class="token string" data-v-52fb82fa data-v-52fb82fa>
  query getPost ($id: ID!) {
    post (id: $id) {
      id
      title
    }
  }
</span><span class="token template-punctuation string" data-v-52fb82fa data-v-52fb82fa>`</span></span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>

<span class="token comment" data-v-52fb82fa data-v-52fb82fa>// Create a reactive variables object</span>
<span class="token keyword" data-v-52fb82fa data-v-52fb82fa>const</span> variables <span class="token operator" data-v-52fb82fa data-v-52fb82fa>=</span> <span class="token function" data-v-52fb82fa data-v-52fb82fa>ref</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>(</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span> id<span class="token operator" data-v-52fb82fa data-v-52fb82fa>:</span> <span class="token number" data-v-52fb82fa data-v-52fb82fa>123</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>)</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>
<span class="token keyword" data-v-52fb82fa data-v-52fb82fa>const</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span> data<span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>,</span> watchVariables<span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>,</span> unwatchVariables<span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>,</span> isWatchingVariables <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span> <span class="token operator" data-v-52fb82fa data-v-52fb82fa>=</span> <span class="token function" data-v-52fb82fa data-v-52fb82fa>useQuery</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>(</span><span class="token maybe-class-name" data-v-52fb82fa data-v-52fb82fa>GetPostById</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>,</span> variables<span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>)</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>

<span class="token comment" data-v-52fb82fa data-v-52fb82fa>// variables/query watching is stopped.</span>
<span class="token function" data-v-52fb82fa data-v-52fb82fa>unwatchVariables</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>(</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>)</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>

<span class="token comment" data-v-52fb82fa data-v-52fb82fa>// variables/query watching is resumed.</span>
<span class="token function" data-v-52fb82fa data-v-52fb82fa>watchVariables</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>(</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>)</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>

<span class="token comment" data-v-52fb82fa data-v-52fb82fa>// Reports the current watching status true/false</span>
isWatchingVariables<span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>.</span><span class="token property-access" data-v-52fb82fa data-v-52fb82fa>value</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>
</code></pre></div>
<h2 id="caching" data-v-52fb82fa data-v-52fb82fa><a href="#caching" aria-hidden="true" tabindex="-1" data-v-52fb82fa data-v-52fb82fa><span class="icon icon-link" data-v-52fb82fa data-v-52fb82fa></span></a>Caching</h2>
<p data-v-52fb82fa data-v-52fb82fa>Queries are <strong data-v-52fb82fa data-v-52fb82fa>cached in memory</strong>, the uniqueness criteria is the query name, body, and its variables. Meaning if the same query is run with the same variables it will be fetched from the cache by default and will not hit the network. <strong data-v-52fb82fa data-v-52fb82fa>Cache is deleted after the user closes/refreshes the page.</strong></p>
<p data-v-52fb82fa data-v-52fb82fa>By default the client uses <code data-v-52fb82fa data-v-52fb82fa>cache-first</code> policy to handle queries, the full list of available policies are:</p>
<ul data-v-52fb82fa data-v-52fb82fa>
<li data-v-52fb82fa data-v-52fb82fa><code data-v-52fb82fa data-v-52fb82fa>cache-first</code>: If found in cache return it, otherwise fetch it from the network</li>
<li data-v-52fb82fa data-v-52fb82fa><code data-v-52fb82fa data-v-52fb82fa>network-only</code>: Always fetch from the network and do not cache it</li>
<li data-v-52fb82fa data-v-52fb82fa><code data-v-52fb82fa data-v-52fb82fa>cache-and-network</code>: If found in cache return it, but fetch the fresh value and cache it for next time, if not found in cache it will fetch it from network and cache it</li>
<li data-v-52fb82fa data-v-52fb82fa><code data-v-52fb82fa data-v-52fb82fa>cache-only</code>: If found in cache return it, otherwise returns <code data-v-52fb82fa data-v-52fb82fa>null</code> for both <code data-v-52fb82fa data-v-52fb82fa>data</code> and <code data-v-52fb82fa data-v-52fb82fa>errors</code></li>
</ul>
<p data-v-52fb82fa data-v-52fb82fa>You can specify a different strategy on different levels:</p>
<h3 id="on-the-client-level" data-v-52fb82fa data-v-52fb82fa><a href="#on-the-client-level" aria-hidden="true" tabindex="-1" data-v-52fb82fa data-v-52fb82fa><span class="icon icon-link" data-v-52fb82fa data-v-52fb82fa></span></a>On the client level</h3>
<p data-v-52fb82fa data-v-52fb82fa>You can set the default policy on the client level when you are <a href="/villus/client.md" data-v-52fb82fa>building the GraphQL client</a> by passing <code data-v-52fb82fa data-v-52fb82fa>cachePolicy</code> option to either:</p>
<p data-v-52fb82fa data-v-52fb82fa>The <code data-v-52fb82fa data-v-52fb82fa>createClient</code> function:</p>
<div class="nuxt-content-highlight" data-v-52fb82fa data-v-52fb82fa><pre class="line-numbers language-js" data-line="3,10" data-v-52fb82fa data-v-52fb82fa><code data-v-52fb82fa data-v-52fb82fa><span class="token keyword" data-v-52fb82fa data-v-52fb82fa>const</span> client <span class="token operator" data-v-52fb82fa data-v-52fb82fa>=</span> <span class="token function" data-v-52fb82fa data-v-52fb82fa>createClient</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>(</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span>
  url<span class="token operator" data-v-52fb82fa data-v-52fb82fa>:</span> <span class="token string" data-v-52fb82fa data-v-52fb82fa>'/graphql'</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>,</span> <span class="token comment" data-v-52fb82fa data-v-52fb82fa>// Your endpoint</span>
  cachePolicy<span class="token operator" data-v-52fb82fa data-v-52fb82fa>:</span> <span class="token string" data-v-52fb82fa data-v-52fb82fa>'network-only'</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>,</span>
<span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>)</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>
</code></pre></div>
<p data-v-52fb82fa data-v-52fb82fa>This will make all the <code data-v-52fb82fa data-v-52fb82fa>Query</code> components under the <code data-v-52fb82fa data-v-52fb82fa>Provider</code> tree use the <code data-v-52fb82fa data-v-52fb82fa>network-only</code> policy by default.</p>
<p data-v-52fb82fa data-v-52fb82fa>You can also pass it to the <code data-v-52fb82fa data-v-52fb82fa>useClient</code> composition function:</p>
<div class="nuxt-content-highlight" data-v-52fb82fa data-v-52fb82fa><pre class="line-numbers language-js" data-line="4" data-v-52fb82fa data-v-52fb82fa><code data-v-52fb82fa data-v-52fb82fa><span class="token comment" data-v-52fb82fa data-v-52fb82fa>// in setup</span>
<span class="token function" data-v-52fb82fa data-v-52fb82fa>useClient</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>(</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span>
  url<span class="token operator" data-v-52fb82fa data-v-52fb82fa>:</span> <span class="token string" data-v-52fb82fa data-v-52fb82fa>'/graphql'</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>,</span> <span class="token comment" data-v-52fb82fa data-v-52fb82fa>// Your endpoint</span>
  cachePolicy<span class="token operator" data-v-52fb82fa data-v-52fb82fa>:</span> <span class="token string" data-v-52fb82fa data-v-52fb82fa>'network-only'</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>,</span>
<span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>)</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>
</code></pre></div>
<p data-v-52fb82fa data-v-52fb82fa>This will make all the child-components using <code data-v-52fb82fa data-v-52fb82fa>useQuery</code> or <code data-v-52fb82fa data-v-52fb82fa>Query</code> component use the <code data-v-52fb82fa data-v-52fb82fa>network-only</code> policy by default.</p>
<h3 id="on-the-query-level" data-v-52fb82fa data-v-52fb82fa><a href="#on-the-query-level" aria-hidden="true" tabindex="-1" data-v-52fb82fa data-v-52fb82fa><span class="icon icon-link" data-v-52fb82fa data-v-52fb82fa></span></a>On the query level</h3>
<p data-v-52fb82fa data-v-52fb82fa>You can pass the <code data-v-52fb82fa data-v-52fb82fa>cachePolicy</code> property to the <code data-v-52fb82fa data-v-52fb82fa>useQuery</code> function to set the default caching policy for that query:</p>
<div class="p-6 rounded my-8 border-l-4 dark-mode:bg-black bg-gray-100 border-accent-800 text-accent-800" data-v-21966d4a data-v-52fb82fa><div class="flex flex-row items-center" data-v-21966d4a><!----> <svg fill="currentColor" viewBox="0 0 20 20" class="h-6 w-6 mr-2" data-v-21966d4a><path d="M11 3a1 1 0 10-2 0v1a1 1 0 102 0V3zM15.657 5.757a1 1 0 00-1.414-1.414l-.707.707a1 1 0 001.414 1.414l.707-.707zM18 10a1 1 0 01-1 1h-1a1 1 0 110-2h1a1 1 0 011 1zM5.05 6.464A1 1 0 106.464 5.05l-.707-.707a1 1 0 00-1.414 1.414l.707.707zM5 10a1 1 0 01-1 1H3a1 1 0 110-2h1a1 1 0 011 1zM8 16v-1h4v1a2 2 0 11-4 0zM12 14c.015-.34.208-.646.477-.859a4 4 0 10-4.954 0c.27.213.462.519.476.859h4.002z" data-v-21966d4a></path></svg> <p class="font-bold text-lg uppercase" data-v-21966d4a>tip</p></div> <div class="mt-4 text-black dark-mode:text-white" data-v-21966d4a>
<p data-v-21966d4a data-v-52fb82fa>Note the usage of a different signature here for the <code data-v-21966d4a data-v-52fb82fa>useQuery</code> function, what you have seen so far is the "short-hand" but when you need to modify the query behavior you will need to use the full or extended options. The main difference is that this signature only accepts exactly 1 argument containing the query options, you can find more information about the available options in the <a href="/villus/api/use-query" data-v-52fb82fa>API reference page</a>.</p>
</div></div>
<div class="nuxt-content-highlight" data-v-52fb82fa data-v-52fb82fa><pre class="line-numbers language-js" data-v-52fb82fa data-v-52fb82fa><code data-v-52fb82fa data-v-52fb82fa><span class="token comment" data-v-52fb82fa data-v-52fb82fa>// in setup</span>
<span class="token keyword" data-v-52fb82fa data-v-52fb82fa>const</span> <span class="token maybe-class-name" data-v-52fb82fa data-v-52fb82fa>GetPosts</span> <span class="token operator" data-v-52fb82fa data-v-52fb82fa>=</span> <span class="token template-string" data-v-52fb82fa data-v-52fb82fa><span class="token template-punctuation string" data-v-52fb82fa data-v-52fb82fa>`</span><span class="token string" data-v-52fb82fa data-v-52fb82fa>
  query GetPosts {
    posts {
      id
      title
    }
  }
</span><span class="token template-punctuation string" data-v-52fb82fa data-v-52fb82fa>`</span></span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>

<span class="token keyword" data-v-52fb82fa data-v-52fb82fa>const</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span> data <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span> <span class="token operator" data-v-52fb82fa data-v-52fb82fa>=</span> <span class="token function" data-v-52fb82fa data-v-52fb82fa>useQuery</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>(</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span>
  query<span class="token operator" data-v-52fb82fa data-v-52fb82fa>:</span> <span class="token maybe-class-name" data-v-52fb82fa data-v-52fb82fa>GetPosts</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>,</span>
  cachePolicy<span class="token operator" data-v-52fb82fa data-v-52fb82fa>:</span> <span class="token string" data-v-52fb82fa data-v-52fb82fa>'network-only'</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>,</span>
<span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>)</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>
</code></pre></div>
<h3 id="on-each-execute-call-level" data-v-52fb82fa data-v-52fb82fa><a href="#on-each-execute-call-level" aria-hidden="true" tabindex="-1" data-v-52fb82fa data-v-52fb82fa><span class="icon icon-link" data-v-52fb82fa data-v-52fb82fa></span></a>On each <code data-v-52fb82fa data-v-52fb82fa>execute</code> call level</h3>
<p data-v-52fb82fa data-v-52fb82fa>You can also set the caching policy for a single <code data-v-52fb82fa data-v-52fb82fa>execute</code> call by passing it to the <code data-v-52fb82fa data-v-52fb82fa>execute</code> function provided by the slot props or the <code data-v-52fb82fa data-v-52fb82fa>useQuery</code> function.</p>
<p data-v-52fb82fa data-v-52fb82fa>Here is a snippet for doing so with the <code data-v-52fb82fa data-v-52fb82fa>useQuery</code> function:</p>
<div class="nuxt-content-highlight" data-v-52fb82fa data-v-52fb82fa><pre class="line-numbers language-js" data-v-52fb82fa data-v-52fb82fa><code data-v-52fb82fa data-v-52fb82fa><span class="token comment" data-v-52fb82fa data-v-52fb82fa>// in setup</span>
<span class="token keyword" data-v-52fb82fa data-v-52fb82fa>const</span> <span class="token maybe-class-name" data-v-52fb82fa data-v-52fb82fa>GetPosts</span> <span class="token operator" data-v-52fb82fa data-v-52fb82fa>=</span> <span class="token template-string" data-v-52fb82fa data-v-52fb82fa><span class="token template-punctuation string" data-v-52fb82fa data-v-52fb82fa>`</span><span class="token string" data-v-52fb82fa data-v-52fb82fa>
  query GetPosts {
    posts {
      id
      title
    }
  }
</span><span class="token template-punctuation string" data-v-52fb82fa data-v-52fb82fa>`</span></span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>

<span class="token keyword" data-v-52fb82fa data-v-52fb82fa>const</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span> execute<span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>,</span> data <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span> <span class="token operator" data-v-52fb82fa data-v-52fb82fa>=</span> <span class="token function" data-v-52fb82fa data-v-52fb82fa>useQuery</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>(</span><span class="token maybe-class-name" data-v-52fb82fa data-v-52fb82fa>GetPosts</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>)</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>

<span class="token comment" data-v-52fb82fa data-v-52fb82fa>// use this in template or whatever.</span>
<span class="token keyword" data-v-52fb82fa data-v-52fb82fa>function</span> <span class="token function" data-v-52fb82fa data-v-52fb82fa>runWithPolicy</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>(</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>)</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span>
  <span class="token function" data-v-52fb82fa data-v-52fb82fa>execute</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>(</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span> cachePolicy<span class="token operator" data-v-52fb82fa data-v-52fb82fa>:</span> <span class="token string" data-v-52fb82fa data-v-52fb82fa>'network-only'</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>)</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>
<span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span>
</code></pre></div>
<p data-v-52fb82fa data-v-52fb82fa>You can build your own cache layer and plugins for villus, check the <a href="/villus/plugins" data-v-52fb82fa>Plugins Guide</a></p>
<h2 id="fetching-on-mounted" data-v-52fb82fa data-v-52fb82fa><a href="#fetching-on-mounted" aria-hidden="true" tabindex="-1" data-v-52fb82fa data-v-52fb82fa><span class="icon icon-link" data-v-52fb82fa data-v-52fb82fa></span></a>Fetching on Mounted</h2>
<p data-v-52fb82fa data-v-52fb82fa>By default the <code data-v-52fb82fa data-v-52fb82fa>useQuery</code> and <code data-v-52fb82fa data-v-52fb82fa>Query</code> component automatically execute their queries when the component is mounted. You can configure this behavior by setting the <code data-v-52fb82fa data-v-52fb82fa>fetchOnMount</code> option:</p>
<div class="nuxt-content-highlight" data-v-52fb82fa data-v-52fb82fa><pre class="line-numbers language-js" data-v-52fb82fa data-v-52fb82fa><code data-v-52fb82fa data-v-52fb82fa><span class="token keyword" data-v-52fb82fa data-v-52fb82fa>const</span> <span class="token maybe-class-name" data-v-52fb82fa data-v-52fb82fa>GetPosts</span> <span class="token operator" data-v-52fb82fa data-v-52fb82fa>=</span> <span class="token template-string" data-v-52fb82fa data-v-52fb82fa><span class="token template-punctuation string" data-v-52fb82fa data-v-52fb82fa>`</span><span class="token string" data-v-52fb82fa data-v-52fb82fa>
  query GetPosts {
    posts {
      id
      title
    }
  }
</span><span class="token template-punctuation string" data-v-52fb82fa data-v-52fb82fa>`</span></span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>

<span class="token keyword" data-v-52fb82fa data-v-52fb82fa>const</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span> data <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span> <span class="token operator" data-v-52fb82fa data-v-52fb82fa>=</span> <span class="token function" data-v-52fb82fa data-v-52fb82fa>useQuery</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>(</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span>
  query<span class="token operator" data-v-52fb82fa data-v-52fb82fa>:</span> <span class="token maybe-class-name" data-v-52fb82fa data-v-52fb82fa>GetPosts</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>,</span>
  fetchOnMount<span class="token operator" data-v-52fb82fa data-v-52fb82fa>:</span> <span class="token boolean" data-v-52fb82fa data-v-52fb82fa>false</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>,</span> <span class="token comment" data-v-52fb82fa data-v-52fb82fa>// disables query fetching on mounted</span>
<span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>)</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>
</code></pre></div>
<h2 id="suspense" data-v-52fb82fa data-v-52fb82fa><a href="#suspense" aria-hidden="true" tabindex="-1" data-v-52fb82fa data-v-52fb82fa><span class="icon icon-link" data-v-52fb82fa data-v-52fb82fa></span></a>Suspense</h2>
<div class="p-6 rounded my-8 border-l-4 dark-mode:bg-black bg-gray-100 border-error text-error" data-v-21966d4a data-v-52fb82fa><div class="flex flex-row items-center" data-v-21966d4a><svg fill="currentColor" viewBox="0 0 20 20" class="h-6 w-6 mr-2" data-v-21966d4a><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" data-v-21966d4a></path></svg> <!----> <p class="font-bold text-lg" data-v-21966d4a>Vue 3</p></div> <div class="mt-4 text-black dark-mode:text-white" data-v-21966d4a>
<p data-v-21966d4a data-v-52fb82fa>This feature is only available with Vue 3 at the moment</p>
</div></div>
<p data-v-52fb82fa data-v-52fb82fa>Both the <code data-v-52fb82fa data-v-52fb82fa>useQuery</code> and <code data-v-52fb82fa data-v-52fb82fa>Query</code> component can take advantage of the <code data-v-52fb82fa data-v-52fb82fa>Suspense</code> component shipped by Vue 3.x.</p>
<p data-v-52fb82fa data-v-52fb82fa>To utilize the suspense feature, you need to <code data-v-52fb82fa data-v-52fb82fa>await</code> the <code data-v-52fb82fa data-v-52fb82fa>useQuery</code> function and it returns the exact same API after executing the query:</p>
<div class="nuxt-content-highlight" data-v-52fb82fa data-v-52fb82fa><pre class="line-numbers language-html" data-v-52fb82fa data-v-52fb82fa><code data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>&lt;</span>template</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>></span></span>
  <span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>&lt;</span>ul</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>></span></span>
    <span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>&lt;</span>li</span> <span class="token attr-name" data-v-52fb82fa data-v-52fb82fa>v-for</span><span class="token attr-value" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation attr-equals" data-v-52fb82fa data-v-52fb82fa>=</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>"</span>post in data.posts<span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>"</span></span> <span class="token attr-name" data-v-52fb82fa data-v-52fb82fa>:key</span><span class="token attr-value" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation attr-equals" data-v-52fb82fa data-v-52fb82fa>=</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>"</span>post.id<span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>"</span></span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>></span></span>{{ post.title }}<span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>&lt;/</span>li</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>></span></span>
  <span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>&lt;/</span>ul</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>></span></span>
<span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>&lt;/</span>template</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>></span></span>

<span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>&lt;</span>script</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>></span></span><span class="token script" data-v-52fb82fa data-v-52fb82fa><span class="token language-javascript" data-v-52fb82fa data-v-52fb82fa>
<span class="token comment" data-v-52fb82fa data-v-52fb82fa>// Listing.vue</span>
<span class="token keyword module" data-v-52fb82fa data-v-52fb82fa>import</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span> useQuery <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span> <span class="token keyword module" data-v-52fb82fa data-v-52fb82fa>from</span> <span class="token string" data-v-52fb82fa data-v-52fb82fa>'villus'</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>

<span class="token keyword module" data-v-52fb82fa data-v-52fb82fa>export</span> <span class="token keyword module" data-v-52fb82fa data-v-52fb82fa>default</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span>
  name<span class="token operator" data-v-52fb82fa data-v-52fb82fa>:</span> <span class="token string" data-v-52fb82fa data-v-52fb82fa>'Listing'</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>,</span>
  <span class="token keyword" data-v-52fb82fa data-v-52fb82fa>async</span> <span class="token function" data-v-52fb82fa data-v-52fb82fa>setup</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>(</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>)</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span>
    <span class="token keyword" data-v-52fb82fa data-v-52fb82fa>const</span> <span class="token maybe-class-name" data-v-52fb82fa data-v-52fb82fa>GetPosts</span> <span class="token operator" data-v-52fb82fa data-v-52fb82fa>=</span> <span class="token template-string" data-v-52fb82fa data-v-52fb82fa><span class="token template-punctuation string" data-v-52fb82fa data-v-52fb82fa>`</span><span class="token string" data-v-52fb82fa data-v-52fb82fa>
      query GetPosts {
        posts {
          id
          title
        }
      }
    </span><span class="token template-punctuation string" data-v-52fb82fa data-v-52fb82fa>`</span></span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>

    <span class="token keyword" data-v-52fb82fa data-v-52fb82fa>const</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span> data <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span> <span class="token operator" data-v-52fb82fa data-v-52fb82fa>=</span> <span class="token keyword" data-v-52fb82fa data-v-52fb82fa>await</span> <span class="token function" data-v-52fb82fa data-v-52fb82fa>useQuery</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>(</span><span class="token maybe-class-name" data-v-52fb82fa data-v-52fb82fa>GetPosts</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>)</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>

    <span class="token keyword" data-v-52fb82fa data-v-52fb82fa>return</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>{</span> data <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>
  <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>,</span>
<span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>}</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>;</span>
</span></span><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>&lt;/</span>script</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>></span></span>
</code></pre></div>
<p data-v-52fb82fa data-v-52fb82fa>Then you can suspend the <code data-v-52fb82fa data-v-52fb82fa>Listing.vue</code> component like this:</p>
<div class="nuxt-content-highlight" data-v-52fb82fa data-v-52fb82fa><pre class="line-numbers language-html" data-v-52fb82fa data-v-52fb82fa><code data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>&lt;</span>template</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>></span></span>
  <span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>&lt;</span>div</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>></span></span>
    <span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>&lt;</span>Suspense</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>></span></span>
      <span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>&lt;</span>template</span> <span class="token attr-name" data-v-52fb82fa data-v-52fb82fa>#default</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>></span></span>
        <span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>&lt;</span>Listing</span> <span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>/></span></span>
      <span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>&lt;/</span>template</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>></span></span>
      <span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>&lt;</span>template</span> <span class="token attr-name" data-v-52fb82fa data-v-52fb82fa>#fallback</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>></span></span>
        <span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>&lt;</span>span</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>></span></span>Loading...<span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>&lt;/</span>span</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>></span></span>
      <span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>&lt;/</span>template</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>></span></span>
    <span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>&lt;/</span>Suspense</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>></span></span>
  <span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>&lt;/</span>div</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>></span></span>
<span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>&lt;/</span>template</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>></span></span>

<span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>&lt;</span>script</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>></span></span>
import Listing from '@/components/Listing.vue';

export default {
  components: {
    Listing
  }
};
<span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token tag" data-v-52fb82fa data-v-52fb82fa><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>&lt;</span>script</span><span class="token punctuation" data-v-52fb82fa data-v-52fb82fa>></span></span>
</code></pre></div></div></main> <div class="lside hidden lg:block" data-v-e9769f5a><aside data-fetch-key="0" class="px-6 pt-24 sticky top-0" data-v-ee0b0be6 data-v-e9769f5a><nav class="space-y-8 text-sm" data-v-ee0b0be6><div data-v-ee0b0be6><p class="text-xs font-bold text-gray-800 uppercase" data-v-ee0b0be6>
        guide
      </p> <ul class="mt-3 space-y-2" data-v-ee0b0be6><li data-v-ee0b0be6><a href="/villus/guide/overview" data-v-ee0b0be6>Overview</a></li><li data-v-ee0b0be6><a href="/villus/guide/setup" data-v-ee0b0be6>Application Setup</a></li><li data-v-ee0b0be6><a href="/villus/guide/queries" aria-current="page" class="nuxt-link-exact-active nuxt-link-active" data-v-ee0b0be6>Queries</a></li><li data-v-ee0b0be6><a href="/villus/guide/mutations" data-v-ee0b0be6>Mutations</a></li><li data-v-ee0b0be6><a href="/villus/guide/subscriptions" data-v-ee0b0be6>Subscriptions</a></li><li data-v-ee0b0be6><a href="/villus/guide/plugins" data-v-ee0b0be6>Plugins</a></li></ul></div><div data-v-ee0b0be6><p class="text-xs font-bold text-gray-800 uppercase" data-v-ee0b0be6>
        plugins
      </p> <ul class="mt-3 space-y-2" data-v-ee0b0be6><li data-v-ee0b0be6><a href="/villus/plugins/fetch" data-v-ee0b0be6>Fetch Plugin</a></li><li data-v-ee0b0be6><a href="/villus/plugins/cache" data-v-ee0b0be6>Cache Plugin</a></li><li data-v-ee0b0be6><a href="/villus/plugins/batch" data-v-ee0b0be6>Query Batching Plugin</a></li><li data-v-ee0b0be6><a href="/villus/plugins/multipart" data-v-ee0b0be6>File Uploads</a></li><li data-v-ee0b0be6><a href="/villus/plugins/handle-subscriptions" data-v-ee0b0be6>Handle Subscriptions Plugin</a></li></ul></div><div data-v-ee0b0be6><p class="text-xs font-bold text-gray-800 uppercase" data-v-ee0b0be6>
        examples
      </p> <ul class="mt-3 space-y-2" data-v-ee0b0be6><li data-v-ee0b0be6><a href="/villus/examples/basic-query" data-v-ee0b0be6>Basic Query</a></li><li data-v-ee0b0be6><a href="/villus/examples/suspense" data-v-ee0b0be6>Query with Suspense</a></li></ul></div><div data-v-ee0b0be6><p class="text-xs font-bold text-gray-800 uppercase" data-v-ee0b0be6>
        api reference
      </p> <ul class="mt-3 space-y-2" data-v-ee0b0be6><li data-v-ee0b0be6><a href="/villus/api/client" data-v-ee0b0be6>Client</a></li><li data-v-ee0b0be6><a href="/villus/api/use-query" data-v-ee0b0be6>useQuery()</a></li><li data-v-ee0b0be6><a href="/villus/api/use-mutation" data-v-ee0b0be6>useMutation()</a></li><li data-v-ee0b0be6><a href="/villus/api/use-subscription" data-v-ee0b0be6>useSubscription()</a></li><li data-v-ee0b0be6><a href="/villus/api/query" data-v-ee0b0be6>&lt;Query /></a></li><li data-v-ee0b0be6><a href="/villus/api/mutation" data-v-ee0b0be6>&lt;Mutation /></a></li><li data-v-ee0b0be6><a href="/villus/api/subscription" data-v-ee0b0be6>&lt;Subscription /></a></li></ul></div></nav></aside></div> <div class="rside hidden xl:block" data-v-e9769f5a><aside class="sticky top-0" data-v-ee25ff46 data-v-e9769f5a><nav class="pt-24" data-v-ee25ff46><p class="font-bold text-xs uppercase text-gray-800" data-v-ee25ff46>On this page</p> <ul class="mt-4 space-y-1 text-sm" data-v-ee25ff46><li data-v-ee25ff46><a href="/villus/guide/queries#queries-basics" class="inline-block py-1" data-v-ee25ff46>Queries Basics</a></li><li data-v-ee25ff46><a href="/villus/guide/queries#with-graphql-tag" class="inline-block py-1" data-v-ee25ff46>With graphql-tag</a></li><li data-v-ee25ff46><a href="/villus/guide/queries#query-variables" class="inline-block py-1" data-v-ee25ff46>Query Variables</a></li><li data-v-ee25ff46><a href="/villus/guide/queries#re-fetching-queries" class="inline-block py-1" data-v-ee25ff46>Re-fetching Queries</a></li><li data-v-ee25ff46><a href="/villus/guide/queries#reactive-queries" class="inline-block py-1" data-v-ee25ff46>Reactive Queries</a></li><li class="ml-4" data-v-ee25ff46><a href="/villus/guide/queries#disabling-re-fetching" class="inline-block py-1" data-v-ee25ff46>Disabling Re-fetching</a></li><li data-v-ee25ff46><a href="/villus/guide/queries#caching" class="inline-block py-1" data-v-ee25ff46>Caching</a></li><li class="ml-4" data-v-ee25ff46><a href="/villus/guide/queries#on-the-client-level" class="inline-block py-1" data-v-ee25ff46>On the client level</a></li><li class="ml-4" data-v-ee25ff46><a href="/villus/guide/queries#on-the-query-level" class="inline-block py-1" data-v-ee25ff46>On the query level</a></li><li class="ml-4" data-v-ee25ff46><a href="/villus/guide/queries#on-each-execute-call-level" class="inline-block py-1" data-v-ee25ff46>On each execute call level</a></li><li data-v-ee25ff46><a href="/villus/guide/queries#fetching-on-mounted" class="inline-block py-1" data-v-ee25ff46>Fetching on Mounted</a></li><li data-v-ee25ff46><a href="/villus/guide/queries#suspense" class="inline-block py-1" data-v-ee25ff46>Suspense</a></li></ul></nav></aside></div></div></div></div></div><script>window.__NUXT__=function(e,a,p,t,l,s,y,r,c,u,i,n,v,o,h,d,g,m,N,f,b,w,q,x,I,T,P,k,Q,H,L,G,Y,A,V,C,S,R,B,F,M,O,$,j,D,W,_,U,z,X,Z,E,J,K,ee,ae,pe,te,le,se,ye,re,ce,ue,ie,ne,ve,oe,he,de,ge,me,Ne,fe,be,we,qe,xe,Ie,Te,Pe,ke,Qe,He,Le,Ge,Ye,Ae,Ve,Ce,Se,Re,Be,Fe,Me,Oe,$e,je,De,We,_e,Ue,ze,Xe,Ze,Ee,Je,Ke,ea,aa,pa,ta,la,sa,ya,ra,ca,ua,ia,na,va,oa,ha,da,ga,ma,Na,fa,ba,wa,qa,xa,Ia,Ta,Pa,ka,Qa,Ha,La,Ga,Ya){return De.title=Ie,De.description="Learn how to run GraphQL queries",De.order=3,De.toc=[{id:We,depth:2,text:_e},{id:Ue,depth:2,text:"With graphql-tag"},{id:ze,depth:2,text:Xe},{id:Ze,depth:2,text:Ee},{id:Je,depth:2,text:Ke},{id:ea,depth:3,text:aa},{id:pa,depth:2,text:ta},{id:la,depth:3,text:sa},{id:ya,depth:3,text:ra},{id:ca,depth:3,text:"On each execute call level"},{id:ua,depth:2,text:ia},{id:na,depth:2,text:ie}],De.body={type:"root",children:[{type:a,tag:"h1",props:{id:va},children:[{type:a,tag:S,props:{href:"#queries",ariaHidden:O,tabIndex:$},children:[{type:a,tag:p,props:{className:[j,D]},children:[]}]},{type:e,value:Ie}]},{type:e,value:y},{type:a,tag:g,props:{},children:[{type:e,value:"You can query GraphQL APIs with the "},{type:a,tag:r,props:{},children:[{type:e,value:w}]},{type:e,value:" function or "},{type:a,tag:r,props:{},children:[{type:e,value:pe}]},{type:e,value:" component after you've setup the "},{type:a,tag:ge,props:{to:"/setup.md"},children:[{type:e,value:"GraphQL Client"}]},{type:e,value:". This guide will focus on using the composable API because it is more flexible and concise, everything covered in this guide can be done with the "},{type:a,tag:r,props:{},children:[{type:e,value:pe}]},{type:e,value:" component."}]},{type:e,value:y},{type:a,tag:X,props:{id:We},children:[{type:a,tag:S,props:{href:"#queries-basics",ariaHidden:O,tabIndex:$},children:[{type:a,tag:p,props:{className:[j,D]},children:[]}]},{type:e,value:_e}]},{type:e,value:y},{type:a,tag:g,props:{},children:[{type:e,value:"The "},{type:a,tag:r,props:{},children:[{type:e,value:w}]},{type:e,value:" function is a composable function that provides query state and various helper methods around managing the query."}]},{type:e,value:y},{type:a,tag:g,props:{},children:[{type:e,value:"To execute a query the "},{type:a,tag:r,props:{},children:[{type:e,value:w}]},{type:e,value:" accepts a GraphQL query as the first argument. The "},{type:a,tag:r,props:{},children:[{type:e,value:"query"}]},{type:e,value:" property is a "},{type:a,tag:r,props:{},children:[{type:e,value:n}]},{type:e,value:" containing the query body or a "},{type:a,tag:r,props:{},children:[{type:e,value:"DocumentNode"}]},{type:e,value:" (AST) created by "},{type:a,tag:r,props:{},children:[{type:e,value:Te}]},{type:e,value:"."}]},{type:e,value:y},{type:a,tag:L,props:{className:[A]},children:[{type:a,tag:V,props:{className:[C,Pe]},children:[{type:a,tag:r,props:{},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:G}]},{type:e,value:z}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:N}]}]},{type:e,value:R},{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:G}]},{type:e,value:L}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:N}]}]},{type:e,value:Z},{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:G}]},{type:e,value:ne}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,te]},children:[{type:e,value:"v-if"}]},{type:a,tag:p,props:{className:[t,me]},children:[{type:a,tag:p,props:{className:[t,l,Ne]},children:[{type:e,value:d}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:E}]},{type:e,value:"data"},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:E}]}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:N}]}]},{type:e,value:ve},{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:G}]},{type:e,value:J}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,te]},children:[{type:e,value:"v-for"}]},{type:a,tag:p,props:{className:[t,me]},children:[{type:a,tag:p,props:{className:[t,l,Ne]},children:[{type:e,value:d}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:E}]},{type:e,value:"todo in data.todos"},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:E}]}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:N}]}]},{type:e,value:"{{ todo.text }}"},{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:B}]},{type:e,value:J}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:N}]}]},{type:e,value:Z},{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:B}]},{type:e,value:ne}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:N}]}]},{type:e,value:R},{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:B}]},{type:e,value:L}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:N}]}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:B}]},{type:e,value:z}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:N}]}]},{type:e,value:m},{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:G}]},{type:e,value:K}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:N}]}]},{type:a,tag:p,props:{className:[t,K]},children:[{type:a,tag:p,props:{className:[t,oa]},children:[{type:e,value:y},{type:a,tag:p,props:{className:[t,c,q]},children:[{type:e,value:W}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:le},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,c,q]},children:[{type:e,value:_}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,n]},children:[{type:e,value:se}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:m},{type:a,tag:p,props:{className:[t,c,q]},children:[{type:e,value:"export"}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,c,q]},children:[{type:e,value:xe}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:R},{type:a,tag:p,props:{className:[t,x]},children:[{type:e,value:"setup"}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:f}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:b}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:Z},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:I}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,P]},children:[{type:e,value:ye}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:d}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,U]},children:[{type:a,tag:p,props:{className:[t,k,n]},children:[{type:e,value:Q}]},{type:a,tag:p,props:{className:[t,n]},children:[{type:e,value:"\n      GetTodos {\n        todos {\n          id\n          title\n        }\n      }\n    "}]},{type:a,tag:p,props:{className:[t,k,n]},children:[{type:e,value:Q}]}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:Z},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:I}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:F},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:d}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,x]},children:[{type:e,value:w}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:f}]},{type:a,tag:p,props:{className:[t,P]},children:[{type:e,value:ye}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:b}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:ke},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:re}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:F},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:R},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:T}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:y}]}]},{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:B}]},{type:e,value:K}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:N}]}]},{type:e,value:y}]}]}]},{type:e,value:y},{type:a,tag:X,props:{id:Ue},children:[{type:a,tag:S,props:{href:"#with-graphql-tag",ariaHidden:O,tabIndex:$},children:[{type:a,tag:p,props:{className:[j,D]},children:[]}]},{type:e,value:"With "},{type:a,tag:S,props:{href:"https://github.com/apollographql/graphql-tag",rel:[Qe,He,Le],target:Ge},children:[{type:e,value:Te}]}]},{type:e,value:y},{type:a,tag:g,props:{},children:[{type:e,value:"You can use "},{type:a,tag:r,props:{},children:[{type:e,value:Te}]},{type:e,value:" to compile your queries or load them with the "},{type:a,tag:r,props:{},children:[{type:e,value:ha}]},{type:e,value:"."}]},{type:e,value:y},{type:a,tag:g,props:{},children:[{type:e,value:"This a sample with the "},{type:a,tag:r,props:{},children:[{type:e,value:w}]},{type:e,value:oe}]},{type:e,value:y},{type:a,tag:L,props:{className:[A]},children:[{type:a,tag:V,props:{className:[C,M]},children:[{type:a,tag:r,props:{},children:[{type:a,tag:p,props:{className:[t,c,q]},children:[{type:e,value:W}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:" gql "},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,c,q]},children:[{type:e,value:_}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,n]},children:[{type:e,value:"'graphql-tag'"}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:m},{type:a,tag:p,props:{className:[t,H]},children:[{type:e,value:da}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:I}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,P]},children:[{type:e,value:ye}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:d}]},{type:e,value:" gql"},{type:a,tag:p,props:{className:[t,U]},children:[{type:a,tag:p,props:{className:[t,k,n]},children:[{type:e,value:Q}]},{type:a,tag:p,props:{className:[t,"graphql","language-graphql"]},children:[{type:e,value:"\n  GetTodos "},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:"\n    todos "},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:"\n      id\n      title\n    "},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:e,value:R},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:e,value:y}]},{type:a,tag:p,props:{className:[t,k,n]},children:[{type:e,value:Q}]}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:m},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:I}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:F},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:d}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,x]},children:[{type:e,value:w}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:f}]},{type:a,tag:p,props:{className:[t,P]},children:[{type:e,value:ye}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:b}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:m},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:re}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:F},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:y}]}]}]},{type:e,value:y},{type:a,tag:g,props:{},children:[{type:e,value:"If you are using "},{type:a,tag:Ye,props:{},children:[{type:e,value:"webpack"}]},{type:e,value:" you can configure the loader "},{type:a,tag:r,props:{},children:[{type:e,value:ha}]},{type:e,value:" and use "},{type:a,tag:r,props:{},children:[{type:e,value:"import/require"}]},{type:e,value:Y}]},{type:e,value:y},{type:a,tag:L,props:{className:[A]},children:[{type:a,tag:V,props:{className:[C,M]},children:[{type:a,tag:r,props:{},children:[{type:a,tag:p,props:{className:[t,c,q]},children:[{type:e,value:W}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,P]},children:[{type:e,value:"Todos"}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,c,q]},children:[{type:e,value:_}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,n]},children:[{type:e,value:"'@/graphql/todos.gql'"}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:m},{type:a,tag:p,props:{className:[t,H]},children:[{type:e,value:da}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:I}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:F},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:d}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,x]},children:[{type:e,value:w}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:f}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:Ae},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:Y}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,P]},children:[{type:e,value:"Todos"}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:T}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:b}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:m},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:re}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:F},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:y}]}]}]},{type:e,value:y},{type:a,tag:X,props:{id:ze},children:[{type:a,tag:S,props:{href:"#query-variables",ariaHidden:O,tabIndex:$},children:[{type:a,tag:p,props:{className:[j,D]},children:[]}]},{type:e,value:Xe}]},{type:e,value:y},{type:a,tag:g,props:{},children:[{type:e,value:"You can pass variables to your queries as the second argument of "},{type:a,tag:r,props:{},children:[{type:e,value:w}]},{type:e,value:Y}]},{type:e,value:y},{type:a,tag:L,props:{className:[A]},children:[{type:a,tag:V,props:{className:[C,M]},children:[{type:a,tag:r,props:{},children:[{type:a,tag:p,props:{className:[t,H]},children:[{type:e,value:he}]},{type:e,value:m},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:I}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,P]},children:[{type:e,value:ce}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:d}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,U]},children:[{type:a,tag:p,props:{className:[t,k,n]},children:[{type:e,value:Q}]},{type:a,tag:p,props:{className:[t,n]},children:[{type:e,value:ga}]},{type:a,tag:p,props:{className:[t,k,n]},children:[{type:e,value:Q}]}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:m},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:I}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:F},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:d}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,x]},children:[{type:e,value:w}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:f}]},{type:a,tag:p,props:{className:[t,P]},children:[{type:e,value:ce}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:T}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:Ve},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:Y}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,ue]},children:[{type:e,value:fe}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:T}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:b}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:y}]}]}]},{type:e,value:y},{type:a,tag:g,props:{},children:[{type:e,value:"However if you want to re-fetch the query whenever the variables change, then this is where the composable API shines. You can pass a "},{type:a,tag:S,props:{href:"https://v3.vuejs.org/api/basic-reactivity.html#reactive",rel:[Qe,He,Le],target:Ge},children:[{type:e,value:"reactive object"}]},{type:e,value:" containing your variables and the query will automatically execute with the new variables value:"}]},{type:e,value:y},{type:a,tag:L,props:{className:[A]},children:[{type:a,tag:V,props:{className:[C,M]},children:[{type:a,tag:r,props:{},children:[{type:a,tag:p,props:{className:[t,c,q]},children:[{type:e,value:W}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:" reactive "},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,c,q]},children:[{type:e,value:_}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,n]},children:[{type:e,value:de}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,c,q]},children:[{type:e,value:W}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:le},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,c,q]},children:[{type:e,value:_}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,n]},children:[{type:e,value:se}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:m},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:I}]},{type:e,value:Ce},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:d}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,x]},children:[{type:e,value:"reactive"}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:f}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:Ve},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:Y}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,ue]},children:[{type:e,value:fe}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:T}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:b}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:m},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:I}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:F},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:d}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,x]},children:[{type:e,value:w}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:f}]},{type:e,value:R},{type:a,tag:p,props:{className:[t,U]},children:[{type:a,tag:p,props:{className:[t,k,n]},children:[{type:e,value:Q}]},{type:a,tag:p,props:{className:[t,n]},children:[{type:e,value:"query FetchTodo ($id: ID!) {\n      todo (id: $id) {\n        text\n      }\n    }\n  "}]},{type:a,tag:p,props:{className:[t,k,n]},children:[{type:e,value:Q}]}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:T}]},{type:e,value:"\n  variables\n"},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:b}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:y}]}]}]},{type:e,value:y},{type:a,tag:g,props:{},children:[{type:e,value:"This also works with "},{type:a,tag:S,props:{href:"https://v3.vuejs.org/api/refs-api.html#ref",rel:[Qe,He,Le],target:Ge},children:[{type:e,value:"reactive Refs"}]}]},{type:e,value:y},{type:a,tag:L,props:{className:[A]},children:[{type:a,tag:V,props:{className:[C,M]},children:[{type:a,tag:r,props:{},children:[{type:a,tag:p,props:{className:[t,c,q]},children:[{type:e,value:W}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:Se},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,c,q]},children:[{type:e,value:_}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,n]},children:[{type:e,value:de}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,c,q]},children:[{type:e,value:W}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:le},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,c,q]},children:[{type:e,value:_}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,n]},children:[{type:e,value:se}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:m},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:I}]},{type:e,value:Ce},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:d}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,x]},children:[{type:e,value:be}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:f}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:Ve},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:Y}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,ue]},children:[{type:e,value:fe}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:T}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:b}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:m},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:I}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,P]},children:[{type:e,value:ce}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:d}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,U]},children:[{type:a,tag:p,props:{className:[t,k,n]},children:[{type:e,value:Q}]},{type:a,tag:p,props:{className:[t,n]},children:[{type:e,value:ga}]},{type:a,tag:p,props:{className:[t,k,n]},children:[{type:e,value:Q}]}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:m},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:I}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:F},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:d}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,x]},children:[{type:e,value:w}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:f}]},{type:a,tag:p,props:{className:[t,P]},children:[{type:e,value:ce}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:T}]},{type:e,value:ma},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:b}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:y}]}]}]},{type:e,value:y},{type:a,tag:g,props:{},children:[{type:e,value:"This is only one way to re-fetch queries, because "},{type:a,tag:r,props:{},children:[{type:e,value:"villus"}]},{type:e,value:" is built with composable API first you will find many ways to re-fetch your queries no matter how complex your requirements are."}]},{type:e,value:y},{type:a,tag:X,props:{id:Ze},children:[{type:a,tag:S,props:{href:"#re-fetching-queries",ariaHidden:O,tabIndex:$},children:[{type:a,tag:p,props:{className:[j,D]},children:[]}]},{type:e,value:Ee}]},{type:e,value:y},{type:a,tag:g,props:{},children:[{type:e,value:"Sometimes you want to re-fetch the query or run it after some action, the "},{type:a,tag:r,props:{},children:[{type:e,value:ee}]},{type:e,value:" function that is returned from the "},{type:a,tag:r,props:{},children:[{type:e,value:w}]},{type:e,value:" function and available on the "},{type:a,tag:r,props:{},children:[{type:e,value:pe}]},{type:e,value:" component slot props. When called it re-executes the query. This example executes the query after the button has been clicked, note that the query is still fetched initially."}]},{type:e,value:y},{type:a,tag:g,props:{},children:[{type:e,value:"Here is a snippet for calling "},{type:a,tag:r,props:{},children:[{type:e,value:ee}]},{type:e,value:" with "},{type:a,tag:r,props:{},children:[{type:e,value:w}]},{type:e,value:Y}]},{type:e,value:y},{type:a,tag:L,props:{className:[A]},children:[{type:a,tag:V,props:{className:[C,M]},children:[{type:a,tag:r,props:{},children:[{type:a,tag:p,props:{className:[t,H]},children:[{type:e,value:he}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:I}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:Re},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:T}]},{type:e,value:Na},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:d}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,x]},children:[{type:e,value:w}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:f}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:R},{type:a,tag:p,props:{className:[t,H]},children:[{type:e,value:"// ..."}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:b}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:m},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:re}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:"\n  data"},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:T}]},{type:e,value:R},{type:a,tag:p,props:{className:[t,H]},children:[{type:e,value:"// call execute whenever you want the query to re-fetch"}]},{type:e,value:"\n  execute"},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:T}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:y}]}]}]},{type:e,value:y},{type:a,tag:g,props:{},children:[{type:e,value:"This can be very useful in situations where you have a complex logic that triggers a refetch, that means "},{type:a,tag:r,props:{},children:[{type:e,value:"watch"}]},{type:e,value:we},{type:a,tag:r,props:{},children:[{type:e,value:"watchEffect"}]},{type:e,value:" play really well with the "},{type:a,tag:r,props:{},children:[{type:e,value:ee}]},{type:e,value:oe}]},{type:e,value:y},{type:a,tag:L,props:{className:[A]},children:[{type:a,tag:V,props:{className:[C,M]},children:[{type:a,tag:r,props:{},children:[{type:a,tag:p,props:{className:[t,c,q]},children:[{type:e,value:W}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:" watch "},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,c,q]},children:[{type:e,value:_}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,n]},children:[{type:e,value:de}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,c,q]},children:[{type:e,value:W}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:le},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,c,q]},children:[{type:e,value:_}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,n]},children:[{type:e,value:se}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:m},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:I}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,P]},children:[{type:e,value:ye}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:d}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,U]},children:[{type:a,tag:p,props:{className:[t,k,n]},children:[{type:e,value:Q}]},{type:a,tag:p,props:{className:[t,n]},children:[{type:e,value:"\n  GetTodos {\n    todos {\n      id\n      title\n    }\n  }\n"}]},{type:a,tag:p,props:{className:[t,k,n]},children:[{type:e,value:Q}]}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:m},{type:a,tag:p,props:{className:[t,H]},children:[{type:e,value:"// in your setup"}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:I}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:Re},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:T}]},{type:e,value:Na},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:d}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,x]},children:[{type:e,value:w}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:f}]},{type:a,tag:p,props:{className:[t,P]},children:[{type:e,value:ye}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:b}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:m},{type:a,tag:p,props:{className:[t,x]},children:[{type:e,value:"watch"}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:f}]},{type:e,value:"someComputedProp"},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:T}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:f}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:b}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,"arrow",h]},children:[{type:e,value:"=>"}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,x]},children:[{type:e,value:ee}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:f}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:b}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:b}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:y}]}]}]},{type:e,value:y},{type:a,tag:X,props:{id:Je},children:[{type:a,tag:S,props:{href:"#reactive-queries",ariaHidden:O,tabIndex:$},children:[{type:a,tag:p,props:{className:[j,D]},children:[]}]},{type:e,value:Ke}]},{type:e,value:y},{type:a,tag:g,props:{},children:[{type:e,value:"Vue is all about reactivity to achieve better DX, and villus follows this philosophy as well. You are not only limited to reactive variables, you can also have reactive queries. In other words, queries created with "},{type:a,tag:r,props:{},children:[{type:e,value:be}]},{type:e,value:" or "},{type:a,tag:r,props:{},children:[{type:e,value:fa}]},{type:e,value:" are recognized as reactive queries and will be watched automatically and re-fetched whenever the query changes."}]},{type:e,value:y},{type:a,tag:L,props:{className:[A]},children:[{type:a,tag:V,props:{className:[C,M]},children:[{type:a,tag:r,props:{},children:[{type:a,tag:p,props:{className:[t,c,q]},children:[{type:e,value:W}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:" computed"},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:T}]},{type:e,value:Se},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,c,q]},children:[{type:e,value:_}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,n]},children:[{type:e,value:de}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,c,q]},children:[{type:e,value:W}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:le},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,c,q]},children:[{type:e,value:_}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,n]},children:[{type:e,value:se}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:m},{type:a,tag:p,props:{className:[t,H]},children:[{type:e,value:"// computed id that will be used to compute the query"}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:I}]},{type:e,value:" id "},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:d}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,x]},children:[{type:e,value:be}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:f}]},{type:a,tag:p,props:{className:[t,ue]},children:[{type:e,value:"1"}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:b}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:m},{type:a,tag:p,props:{className:[t,H]},children:[{type:e,value:"// Create a computed query"}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:I}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,P]},children:[{type:e,value:ce}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:d}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,x]},children:[{type:e,value:fa}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:f}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:f}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:b}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,"arrow",h]},children:[{type:e,value:"=>"}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:R},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:re}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,U]},children:[{type:a,tag:p,props:{className:[t,k,n]},children:[{type:e,value:Q}]},{type:a,tag:p,props:{className:[t,n]},children:[{type:e,value:"query FetchTodo {\n      todo (id: "}]},{type:a,tag:p,props:{className:[t,"interpolation"]},children:[{type:a,tag:p,props:{className:[t,ba,l]},children:[{type:e,value:"${"}]},{type:e,value:"id"},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:"."}]},{type:a,tag:p,props:{className:[t,Be]},children:[{type:e,value:Fe}]},{type:a,tag:p,props:{className:[t,ba,l]},children:[{type:e,value:v}]}]},{type:a,tag:p,props:{className:[t,n]},children:[{type:e,value:") {\n        text\n      }\n    }\n  "}]},{type:a,tag:p,props:{className:[t,k,n]},children:[{type:e,value:Q}]}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:b}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:m},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:I}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:F},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:d}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,x]},children:[{type:e,value:w}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:f}]},{type:a,tag:p,props:{className:[t,P]},children:[{type:e,value:ce}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:b}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:m},{type:a,tag:p,props:{className:[t,H]},children:[{type:e,value:"// later on, changing the `id` ref will automatically refetch the query because it is computed"}]},{type:e,value:"\nid"},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:"."}]},{type:a,tag:p,props:{className:[t,Be]},children:[{type:e,value:Fe}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:d}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,ue]},children:[{type:e,value:"2"}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:y}]}]}]},{type:e,value:y},{type:a,tag:g,props:{},children:[{type:e,value:"Reactive queries are very flexible and one of the many advantages of using the composition API."}]},{type:e,value:y},{type:a,tag:"h3",props:{id:ea},children:[{type:a,tag:S,props:{href:"#disabling-re-fetching",ariaHidden:O,tabIndex:$},children:[{type:a,tag:p,props:{className:[j,D]},children:[]}]},{type:e,value:aa}]},{type:e,value:y},{type:a,tag:g,props:{},children:[{type:e,value:"You can disable the automatic refetch behavior by calling the "},{type:a,tag:r,props:{},children:[{type:e,value:"pause"}]},{type:e,value:" function returned by the "},{type:a,tag:r,props:{},children:[{type:e,value:w}]},{type:e,value:oe}]},{type:e,value:y},{type:a,tag:L,props:{className:[A]},children:[{type:a,tag:V,props:{className:[C,M]},children:[{type:a,tag:r,props:{},children:[{type:a,tag:p,props:{className:[t,c,q]},children:[{type:e,value:W}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:Se},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,c,q]},children:[{type:e,value:_}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,n]},children:[{type:e,value:de}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:m},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:I}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,P]},children:[{type:e,value:wa}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:d}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,U]},children:[{type:a,tag:p,props:{className:[t,k,n]},children:[{type:e,value:Q}]},{type:a,tag:p,props:{className:[t,n]},children:[{type:e,value:"\n  query getPost ($id: ID!) {\n    post (id: $id) {\n      id\n      title\n    }\n  }\n"}]},{type:a,tag:p,props:{className:[t,k,n]},children:[{type:e,value:Q}]}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:m},{type:a,tag:p,props:{className:[t,H]},children:[{type:e,value:"// Create a reactive variables object"}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:I}]},{type:e,value:Ce},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:d}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,x]},children:[{type:e,value:be}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:f}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:" id"},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:Y}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,ue]},children:[{type:e,value:fe}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:b}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:I}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:Re},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:T}]},{type:e,value:" watchVariables"},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:T}]},{type:e,value:" unwatchVariables"},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:T}]},{type:e,value:" isWatchingVariables "},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:d}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,x]},children:[{type:e,value:w}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:f}]},{type:a,tag:p,props:{className:[t,P]},children:[{type:e,value:wa}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:T}]},{type:e,value:ma},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:b}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:m},{type:a,tag:p,props:{className:[t,H]},children:[{type:e,value:"// variables/query watching is stopped."}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,x]},children:[{type:e,value:"unwatchVariables"}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:f}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:b}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:m},{type:a,tag:p,props:{className:[t,H]},children:[{type:e,value:"// variables/query watching is resumed."}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,x]},children:[{type:e,value:"watchVariables"}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:f}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:b}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:m},{type:a,tag:p,props:{className:[t,H]},children:[{type:e,value:"// Reports the current watching status true/false"}]},{type:e,value:"\nisWatchingVariables"},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:"."}]},{type:a,tag:p,props:{className:[t,Be]},children:[{type:e,value:Fe}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:y}]}]}]},{type:e,value:y},{type:a,tag:X,props:{id:pa},children:[{type:a,tag:S,props:{href:"#caching",ariaHidden:O,tabIndex:$},children:[{type:a,tag:p,props:{className:[j,D]},children:[]}]},{type:e,value:ta}]},{type:e,value:y},{type:a,tag:g,props:{},children:[{type:e,value:"Queries are "},{type:a,tag:Ye,props:{},children:[{type:e,value:"cached in memory"}]},{type:e,value:", the uniqueness criteria is the query name, body, and its variables. Meaning if the same query is run with the same variables it will be fetched from the cache by default and will not hit the network. "},{type:a,tag:Ye,props:{},children:[{type:e,value:"Cache is deleted after the user closes/refreshes the page."}]}]},{type:e,value:y},{type:a,tag:g,props:{},children:[{type:e,value:"By default the client uses "},{type:a,tag:r,props:{},children:[{type:e,value:qa}]},{type:e,value:" policy to handle queries, the full list of available policies are:"}]},{type:e,value:y},{type:a,tag:ne,props:{},children:[{type:e,value:y},{type:a,tag:J,props:{},children:[{type:a,tag:r,props:{},children:[{type:e,value:qa}]},{type:e,value:": If found in cache return it, otherwise fetch it from the network"}]},{type:e,value:y},{type:a,tag:J,props:{},children:[{type:a,tag:r,props:{},children:[{type:e,value:Me}]},{type:e,value:": Always fetch from the network and do not cache it"}]},{type:e,value:y},{type:a,tag:J,props:{},children:[{type:a,tag:r,props:{},children:[{type:e,value:"cache-and-network"}]},{type:e,value:": If found in cache return it, but fetch the fresh value and cache it for next time, if not found in cache it will fetch it from network and cache it"}]},{type:e,value:y},{type:a,tag:J,props:{},children:[{type:a,tag:r,props:{},children:[{type:e,value:"cache-only"}]},{type:e,value:": If found in cache return it, otherwise returns "},{type:a,tag:r,props:{},children:[{type:e,value:"null"}]},{type:e,value:" for both "},{type:a,tag:r,props:{},children:[{type:e,value:"data"}]},{type:e,value:we},{type:a,tag:r,props:{},children:[{type:e,value:"errors"}]}]},{type:e,value:y}]},{type:e,value:y},{type:a,tag:g,props:{},children:[{type:e,value:"You can specify a different strategy on different levels:"}]},{type:e,value:y},{type:a,tag:"h3",props:{id:la},children:[{type:a,tag:S,props:{href:"#on-the-client-level",ariaHidden:O,tabIndex:$},children:[{type:a,tag:p,props:{className:[j,D]},children:[]}]},{type:e,value:sa}]},{type:e,value:y},{type:a,tag:g,props:{},children:[{type:e,value:"You can set the default policy on the client level when you are "},{type:a,tag:ge,props:{to:"/client.md"},children:[{type:e,value:"building the GraphQL client"}]},{type:e,value:" by passing "},{type:a,tag:r,props:{},children:[{type:e,value:xa}]},{type:e,value:" option to either:"}]},{type:e,value:y},{type:a,tag:g,props:{},children:[{type:e,value:"The "},{type:a,tag:r,props:{},children:[{type:e,value:Ia}]},{type:e,value:oe}]},{type:e,value:y},{type:a,tag:L,props:{className:[A]},children:[{type:a,tag:V,props:{className:[C,M],dataLine:"3,10"},children:[{type:a,tag:r,props:{},children:[{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:I}]},{type:e,value:" client "},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:d}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,x]},children:[{type:e,value:Ia}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:f}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:Ta},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:Y}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,n]},children:[{type:e,value:Pa}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:T}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,H]},children:[{type:e,value:ka}]},{type:e,value:Oe},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:Y}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,n]},children:[{type:e,value:qe}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:T}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:b}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:y}]}]}]},{type:e,value:y},{type:a,tag:g,props:{},children:[{type:e,value:"This will make all the "},{type:a,tag:r,props:{},children:[{type:e,value:pe}]},{type:e,value:" components under the "},{type:a,tag:r,props:{},children:[{type:e,value:"Provider"}]},{type:e,value:" tree use the "},{type:a,tag:r,props:{},children:[{type:e,value:Me}]},{type:e,value:Qa}]},{type:e,value:y},{type:a,tag:g,props:{},children:[{type:e,value:"You can also pass it to the "},{type:a,tag:r,props:{},children:[{type:e,value:Ha}]},{type:e,value:" composition function:"}]},{type:e,value:y},{type:a,tag:L,props:{className:[A]},children:[{type:a,tag:V,props:{className:[C,M],dataLine:"4"},children:[{type:a,tag:r,props:{},children:[{type:a,tag:p,props:{className:[t,H]},children:[{type:e,value:he}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,x]},children:[{type:e,value:Ha}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:f}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:Ta},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:Y}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,n]},children:[{type:e,value:Pa}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:T}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,H]},children:[{type:e,value:ka}]},{type:e,value:Oe},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:Y}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,n]},children:[{type:e,value:qe}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:T}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:b}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:y}]}]}]},{type:e,value:y},{type:a,tag:g,props:{},children:[{type:e,value:"This will make all the child-components using "},{type:a,tag:r,props:{},children:[{type:e,value:w}]},{type:e,value:" or "},{type:a,tag:r,props:{},children:[{type:e,value:pe}]},{type:e,value:" component use the "},{type:a,tag:r,props:{},children:[{type:e,value:Me}]},{type:e,value:Qa}]},{type:e,value:y},{type:a,tag:"h3",props:{id:ya},children:[{type:a,tag:S,props:{href:"#on-the-query-level",ariaHidden:O,tabIndex:$},children:[{type:a,tag:p,props:{className:[j,D]},children:[]}]},{type:e,value:ra}]},{type:e,value:y},{type:a,tag:g,props:{},children:[{type:e,value:"You can pass the "},{type:a,tag:r,props:{},children:[{type:e,value:xa}]},{type:e,value:" property to the "},{type:a,tag:r,props:{},children:[{type:e,value:w}]},{type:e,value:" function to set the default caching policy for that query:"}]},{type:e,value:y},{type:a,tag:La,props:{},children:[{type:e,value:y},{type:a,tag:g,props:{},children:[{type:e,value:"Note the usage of a different signature here for the "},{type:a,tag:r,props:{},children:[{type:e,value:w}]},{type:e,value:' function, what you have seen so far is the "short-hand" but when you need to modify the query behavior you will need to use the full or extended options. The main difference is that this signature only accepts exactly 1 argument containing the query options, you can find more information about the available options in the '},{type:a,tag:ge,props:{to:Ga},children:[{type:e,value:"API reference page"}]},{type:e,value:"."}]},{type:e,value:y}]},{type:e,value:y},{type:a,tag:L,props:{className:[A]},children:[{type:a,tag:V,props:{className:[C,M]},children:[{type:a,tag:r,props:{},children:[{type:a,tag:p,props:{className:[t,H]},children:[{type:e,value:he}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:I}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,P]},children:[{type:e,value:ae}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:d}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,U]},children:[{type:a,tag:p,props:{className:[t,k,n]},children:[{type:e,value:Q}]},{type:a,tag:p,props:{className:[t,n]},children:[{type:e,value:$e}]},{type:a,tag:p,props:{className:[t,k,n]},children:[{type:e,value:Q}]}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:m},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:I}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:F},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:d}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,x]},children:[{type:e,value:w}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:f}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:Ae},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:Y}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,P]},children:[{type:e,value:ae}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:T}]},{type:e,value:Oe},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:Y}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,n]},children:[{type:e,value:qe}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:T}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:b}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:y}]}]}]},{type:e,value:y},{type:a,tag:"h3",props:{id:ca},children:[{type:a,tag:S,props:{href:"#on-each-execute-call-level",ariaHidden:O,tabIndex:$},children:[{type:a,tag:p,props:{className:[j,D]},children:[]}]},{type:e,value:"On each "},{type:a,tag:r,props:{},children:[{type:e,value:ee}]},{type:e,value:" call level"}]},{type:e,value:y},{type:a,tag:g,props:{},children:[{type:e,value:"You can also set the caching policy for a single "},{type:a,tag:r,props:{},children:[{type:e,value:ee}]},{type:e,value:" call by passing it to the "},{type:a,tag:r,props:{},children:[{type:e,value:ee}]},{type:e,value:" function provided by the slot props or the "},{type:a,tag:r,props:{},children:[{type:e,value:w}]},{type:e,value:" function."}]},{type:e,value:y},{type:a,tag:g,props:{},children:[{type:e,value:"Here is a snippet for doing so with the "},{type:a,tag:r,props:{},children:[{type:e,value:w}]},{type:e,value:oe}]},{type:e,value:y},{type:a,tag:L,props:{className:[A]},children:[{type:a,tag:V,props:{className:[C,M]},children:[{type:a,tag:r,props:{},children:[{type:a,tag:p,props:{className:[t,H]},children:[{type:e,value:he}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:I}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,P]},children:[{type:e,value:ae}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:d}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,U]},children:[{type:a,tag:p,props:{className:[t,k,n]},children:[{type:e,value:Q}]},{type:a,tag:p,props:{className:[t,n]},children:[{type:e,value:$e}]},{type:a,tag:p,props:{className:[t,k,n]},children:[{type:e,value:Q}]}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:m},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:I}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:" execute"},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:T}]},{type:e,value:F},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:d}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,x]},children:[{type:e,value:w}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:f}]},{type:a,tag:p,props:{className:[t,P]},children:[{type:e,value:ae}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:b}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:m},{type:a,tag:p,props:{className:[t,H]},children:[{type:e,value:"// use this in template or whatever."}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:x}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,x]},children:[{type:e,value:"runWithPolicy"}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:f}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:b}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:R},{type:a,tag:p,props:{className:[t,x]},children:[{type:e,value:ee}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:f}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:" cachePolicy"},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:Y}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,n]},children:[{type:e,value:qe}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:b}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:e,value:y}]}]}]},{type:e,value:y},{type:a,tag:g,props:{},children:[{type:e,value:"You can build your own cache layer and plugins for villus, check the "},{type:a,tag:ge,props:{to:"/plugins"},children:[{type:e,value:"Plugins Guide"}]}]},{type:e,value:y},{type:a,tag:X,props:{id:ua},children:[{type:a,tag:S,props:{href:"#fetching-on-mounted",ariaHidden:O,tabIndex:$},children:[{type:a,tag:p,props:{className:[j,D]},children:[]}]},{type:e,value:ia}]},{type:e,value:y},{type:a,tag:g,props:{},children:[{type:e,value:"By default the "},{type:a,tag:r,props:{},children:[{type:e,value:w}]},{type:e,value:we},{type:a,tag:r,props:{},children:[{type:e,value:pe}]},{type:e,value:" component automatically execute their queries when the component is mounted. You can configure this behavior by setting the "},{type:a,tag:r,props:{},children:[{type:e,value:"fetchOnMount"}]},{type:e,value:" option:"}]},{type:e,value:y},{type:a,tag:L,props:{className:[A]},children:[{type:a,tag:V,props:{className:[C,M]},children:[{type:a,tag:r,props:{},children:[{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:I}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,P]},children:[{type:e,value:ae}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:d}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,U]},children:[{type:a,tag:p,props:{className:[t,k,n]},children:[{type:e,value:Q}]},{type:a,tag:p,props:{className:[t,n]},children:[{type:e,value:$e}]},{type:a,tag:p,props:{className:[t,k,n]},children:[{type:e,value:Q}]}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:m},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:I}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:F},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:d}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,x]},children:[{type:e,value:w}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:f}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:Ae},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:Y}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,P]},children:[{type:e,value:ae}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:T}]},{type:e,value:"\n  fetchOnMount"},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:Y}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,"boolean"]},children:[{type:e,value:"false"}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:T}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,H]},children:[{type:e,value:"// disables query fetching on mounted"}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:b}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:y}]}]}]},{type:e,value:y},{type:a,tag:X,props:{id:na},children:[{type:a,tag:S,props:{href:"#suspense",ariaHidden:O,tabIndex:$},children:[{type:a,tag:p,props:{className:[j,D]},children:[]}]},{type:e,value:ie}]},{type:e,value:y},{type:a,tag:La,props:{type:"danger",title:"Vue 3"},children:[{type:e,value:y},{type:a,tag:g,props:{},children:[{type:e,value:"This feature is only available with Vue 3 at the moment"}]},{type:e,value:y}]},{type:e,value:y},{type:a,tag:g,props:{},children:[{type:e,value:"Both the "},{type:a,tag:r,props:{},children:[{type:e,value:w}]},{type:e,value:we},{type:a,tag:r,props:{},children:[{type:e,value:pe}]},{type:e,value:" component can take advantage of the "},{type:a,tag:r,props:{},children:[{type:e,value:ie}]},{type:e,value:" component shipped by Vue 3.x."}]},{type:e,value:y},{type:a,tag:g,props:{},children:[{type:e,value:"To utilize the suspense feature, you need to "},{type:a,tag:r,props:{},children:[{type:e,value:"await"}]},{type:e,value:" the "},{type:a,tag:r,props:{},children:[{type:e,value:w}]},{type:e,value:" function and it returns the exact same API after executing the query:"}]},{type:e,value:y},{type:a,tag:L,props:{className:[A]},children:[{type:a,tag:V,props:{className:[C,Pe]},children:[{type:a,tag:r,props:{},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:G}]},{type:e,value:z}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:N}]}]},{type:e,value:R},{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:G}]},{type:e,value:ne}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:N}]}]},{type:e,value:Z},{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:G}]},{type:e,value:J}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,te]},children:[{type:e,value:"v-for"}]},{type:a,tag:p,props:{className:[t,me]},children:[{type:a,tag:p,props:{className:[t,l,Ne]},children:[{type:e,value:d}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:E}]},{type:e,value:"post in data.posts"},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:E}]}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,te]},children:[{type:e,value:":key"}]},{type:a,tag:p,props:{className:[t,me]},children:[{type:a,tag:p,props:{className:[t,l,Ne]},children:[{type:e,value:d}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:E}]},{type:e,value:"post.id"},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:E}]}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:N}]}]},{type:e,value:"{{ post.title }}"},{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:B}]},{type:e,value:J}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:N}]}]},{type:e,value:R},{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:B}]},{type:e,value:ne}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:N}]}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:B}]},{type:e,value:z}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:N}]}]},{type:e,value:m},{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:G}]},{type:e,value:K}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:N}]}]},{type:a,tag:p,props:{className:[t,K]},children:[{type:a,tag:p,props:{className:[t,oa]},children:[{type:e,value:y},{type:a,tag:p,props:{className:[t,H]},children:[{type:e,value:"// Listing.vue"}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,c,q]},children:[{type:e,value:W}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:le},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,c,q]},children:[{type:e,value:_}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,n]},children:[{type:e,value:se}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:m},{type:a,tag:p,props:{className:[t,c,q]},children:[{type:e,value:"export"}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,c,q]},children:[{type:e,value:xe}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:"\n  name"},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:Y}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,n]},children:[{type:e,value:"'Listing'"}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:T}]},{type:e,value:R},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:"async"}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,x]},children:[{type:e,value:"setup"}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:f}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:b}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:Z},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:I}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,P]},children:[{type:e,value:ae}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:d}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,U]},children:[{type:a,tag:p,props:{className:[t,k,n]},children:[{type:e,value:Q}]},{type:a,tag:p,props:{className:[t,n]},children:[{type:e,value:"\n      query GetPosts {\n        posts {\n          id\n          title\n        }\n      }\n    "}]},{type:a,tag:p,props:{className:[t,k,n]},children:[{type:e,value:Q}]}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:ke},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:I}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:F},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,h]},children:[{type:e,value:d}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:"await"}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,x]},children:[{type:e,value:w}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:f}]},{type:a,tag:p,props:{className:[t,P]},children:[{type:e,value:ae}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:b}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:ke},{type:a,tag:p,props:{className:[t,c]},children:[{type:e,value:re}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:o}]},{type:e,value:F},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:R},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:T}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:v}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:i}]},{type:e,value:y}]}]},{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:B}]},{type:e,value:K}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:N}]}]},{type:e,value:y}]}]}]},{type:e,value:y},{type:a,tag:g,props:{},children:[{type:e,value:"Then you can suspend the "},{type:a,tag:r,props:{},children:[{type:e,value:"Listing.vue"}]},{type:e,value:" component like this:"}]},{type:e,value:y},{type:a,tag:L,props:{className:[A]},children:[{type:a,tag:V,props:{className:[C,Pe]},children:[{type:a,tag:r,props:{},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:G}]},{type:e,value:z}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:N}]}]},{type:e,value:R},{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:G}]},{type:e,value:L}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:N}]}]},{type:e,value:Z},{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:G}]},{type:e,value:ie}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:N}]}]},{type:e,value:ve},{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:G}]},{type:e,value:z}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,te]},children:[{type:e,value:"#default"}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:N}]}]},{type:e,value:Ya},{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:G}]},{type:e,value:"Listing"}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:"/>"}]}]},{type:e,value:ve},{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:B}]},{type:e,value:z}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:N}]}]},{type:e,value:ve},{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:G}]},{type:e,value:z}]},{type:e,value:s},{type:a,tag:p,props:{className:[t,te]},children:[{type:e,value:"#fallback"}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:N}]}]},{type:e,value:Ya},{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:G}]},{type:e,value:p}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:N}]}]},{type:e,value:"Loading..."},{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:B}]},{type:e,value:p}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:N}]}]},{type:e,value:ve},{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:B}]},{type:e,value:z}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:N}]}]},{type:e,value:Z},{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:B}]},{type:e,value:ie}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:N}]}]},{type:e,value:R},{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:B}]},{type:e,value:L}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:N}]}]},{type:e,value:y},{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:B}]},{type:e,value:z}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:N}]}]},{type:e,value:m},{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:G}]},{type:e,value:K}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:N}]}]},{type:e,value:"\nimport Listing from '@/components/Listing.vue';\n\nexport default {\n  components: {\n    Listing\n  }\n};\n"},{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,u]},children:[{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:G}]},{type:e,value:K}]},{type:a,tag:p,props:{className:[t,l]},children:[{type:e,value:N}]}]},{type:e,value:y}]}]}]}]},De.dir="/guide",De.path=je,De.extension=".md",De.slug=va,De.createdAt="2020-10-07T03:49:42.865Z",De.updatedAt="2020-10-08T23:58:17.161Z",{layout:xe,data:[{page:De}],fetch:[{categories:[{title:"guide",pages:[{title:"Overview",order:1,path:"/guide/overview"},{title:"Application Setup",order:2,path:"/guide/setup"},{title:Ie,order:3,path:je},{title:"Mutations",order:4,path:"/guide/mutations"},{title:"Subscriptions",order:5,path:"/guide/subscriptions"},{title:"Plugins",order:6,path:"/guide/plugins"}]},{title:"plugins",pages:[{title:"Fetch Plugin",order:1,path:"/plugins/fetch"},{title:"Cache Plugin",order:2,path:"/plugins/cache"},{title:"Query Batching Plugin",order:3,path:"/plugins/batch"},{title:"File Uploads",order:4,path:"/plugins/multipart"},{title:"Handle Subscriptions Plugin",order:5,path:"/plugins/handle-subscriptions"}]},{title:"examples",pages:[{title:"Basic Query",order:1,path:"/examples/basic-query"},{title:"Query with Suspense",order:2,path:"/examples/suspense"}]},{title:"api reference",pages:[{title:"Client",path:"/api/client"},{title:"useQuery()",order:1,path:Ga},{title:"useMutation()",order:2,path:"/api/use-mutation"},{title:"useSubscription()",order:3,path:"/api/use-subscription"},{title:"<Query />",order:4,path:"/api/query"},{title:"<Mutation />",order:5,path:"/api/mutation"},{title:"<Subscription />",order:6,path:"/api/subscription"}]}]}],error:null,state:{doc:De,theme:"light"},serverRendered:!0,routePath:je,config:{appURL:"https://logaretm.github.io/villus/",content:{dbHash:"40ac29c1"}}}}("text","element","span","token","punctuation"," ","\n","code","keyword","tag",";","string","}","{","operator","=","p","\n\n",">","(",")","useQuery","module","function","const",",","maybe-class-name","template-punctuation","`","comment","div","<",":","nuxt-content-highlight","pre","line-numbers","a","\n  ","</"," data ","language-js","true",-1,"icon","icon-link","import","from","template-string","template","h2","\n    ",'"',"li","script","execute","GetPosts","Query","attr-name"," useQuery ","'villus'","GetTodos","return","FetchTodo","number","Suspense","ul","\n      "," function:","// in setup","'vue'","nuxt-link","attr-value","attr-equals","123","ref"," and ","'network-only'","default","Queries","graphql-tag","language-html","\n\n    ","nofollow","noopener","noreferrer","_blank","strong","\n  query","\n  id"," variables "," ref "," data","property-access","value","network-only","\n  cachePolicy","\n  query GetPosts {\n    posts {\n      id\n      title\n    }\n  }\n","/guide/queries",{},"queries-basics","Queries Basics","with-graphql-tag","query-variables","Query Variables","re-fetching-queries","Re-fetching Queries","reactive-queries","Reactive Queries","disabling-re-fetching","Disabling Re-fetching","caching","Caching","on-the-client-level","On the client level","on-the-query-level","On the query level","on-each-execute-call-level","fetching-on-mounted","Fetching on Mounted","suspense","queries","language-javascript","graphql-tag/loader","// In setup","\n  query FetchTodo ($id: ID!) {\n    todo (id: $id) {\n      text\n    }\n  }\n"," variables"," execute ","computed","interpolation-punctuation","GetPostById","cache-first","cachePolicy","createClient","\n  url","'/graphql'","// Your endpoint"," policy by default.","useClient","doc-tip","/api/use-query","\n        ")</script><script src="/villus/_nuxt/d2fbd09.js" defer></script><script src="/villus/_nuxt/c225518.js" defer></script><script src="/villus/_nuxt/8f17df1.js" defer></script><script src="/villus/_nuxt/ab9449b.js" defer></script><script src="/villus/_nuxt/debd94b.js" defer></script><script src="/villus/_nuxt/def7368.js" defer></script>
  </body>
</html>
